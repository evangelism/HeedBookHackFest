// Azure Storage JavaScript Client Library 0.2.1-preview.3
// Copyright (c) Microsoft and contributors.  All rights reserved.

require=function a(t,e,i){function n(p,l){if(!e[p]){if(!t[p]){var r="function"==typeof require&&require;if(!l&&r)return r(p,!0);if(o)return o(p,!0);var s=new Error("Cannot find module '"+p+"'");throw s.code="MODULE_NOT_FOUND",s}var c=e[p]={exports:{}};t[p][0].call(c.exports,function(a){var e=t[p][1][a];return n(e?e:a)},c,c.exports,a,t,e,i)}return e[p].exports}for(var o="function"==typeof require&&require,p=0;p<i.length;p++)n(i[p]);return n}({1:[function(a,t,e){var i=window.AzureStorage||{};i.generateDevelopmentStorageCredentials=function(a){var t="UseDevelopmentStorage=true;";return a&&(t+="DevelopmentStorageProxyUri="+a),t};var n=a("../lib/services/blob/blobservice");i.BlobService=n,i.BlobUtilities=a("../lib/services/blob/blobutilities"),i.createBlobService=function(a,t,e){return new n(a,t,e,null)},i.createBlobServiceWithSas=function(a,t){return new n(null,null,a,t)},i.createBlobServiceAnonymous=function(a){return new n(null,null,a,null)};var o=a("../lib/common/common"),p=o.StorageServiceClient,l=o.SharedKey;i.generateAccountSharedAccessSignature=function(a,t,e){var i=p.getStorageSettings(a,t),n=new l(i._name,i._key);return n.generateAccountSignedQueryString(e)},i.Constants=o.Constants,i.StorageUtilities=o.StorageUtilities,i.AccessCondition=o.AccessCondition,i.SR=o.SR,i.StorageServiceClient=p,i.Logger=o.Logger,i.WebResource=o.WebResource,i.Validate=o.validate,i.date=o.date,i.LinearRetryPolicyFilter=o.LinearRetryPolicyFilter,i.ExponentialRetryPolicyFilter=o.ExponentialRetryPolicyFilter,i.RetryPolicyFilter=o.RetryPolicyFilter,window.AzureStorage=i},{"../lib/common/common":5,"../lib/services/blob/blobservice":39,"../lib/services/blob/blobutilities":40}],39:[function(a,t,e){(function(e){function i(a,t,e,n,o){var p=y.getStorageSettings(a,t,e,n,o);i.super_.call(this,p._name,p._key,p._blobEndpoint,p._usePathStyleUri,p._sasToken),this.singleBlobPutThresholdInBytes=k.DEFAULT_SINGLE_BLOB_PUT_THRESHOLD_IN_BYTES,this.parallelOperationThreadCount=E.DEFAULT_PARALLEL_OPERATION_THREAD_COUNT}function n(a,t,e){return t&&!e&&(t=encodeURIComponent(t),t=t.replace(/%2F/g,"/"),t=t.replace(/%5C/g,"/"),t=t.replace(/\+/g,"%20")),t?a+"/"+t:a}var o=a("fs"),p=a("querystring"),l=a("url"),r=a("util"),s=a("browserify-mime"),c=a("underscore"),d=a("extend"),m=a("./../../common/common"),u=a("./internal/blockrangestream"),v=a("./../../common/md5-wrapper"),f=a("./internal/pagerangestream"),x=a("./../../common/streams/rangestream"),g=m.util,b=m.SR,h=m.validate,y=m.StorageServiceClient,w=m.WebResource,E=m.Constants,k=E.BlobConstants,_=E.HeaderConstants,S=E.QueryStringConstants,B=E.RequestLocationMode,T=m.BatchOperation,A=m.SpeedSummary,I=m.ChunkAllocator,R=m.ChunkStream,N=m.ChunkStreamWithStream,C=m.FileReadStream,O=m.AclResult,P=m.ServiceStatsParser,L=a("./models/blocklistresult"),M=a("./models/blobresult"),D=a("./models/containerresult"),z=a("./models/leaseresult"),F=a("./blobutilities"),H=a("../../common/errors/errors"),j=H.ArgumentError,q=H.ArgumentNullError,V=H.StorageError;r.inherits(i,y),i.prototype.getServiceStats=function(a,t){var e;g.normalizeArgs(a,t,function(a,i){e=a,t=i}),h.validateArgs("getServiceStats",function(a){a.callback(t)});var i=w.get().withQueryOption(S.COMP,"stats").withQueryOption(S.RESTYPE,"service");e.requestLocationMode=B.PRIMARY_OR_SECONDARY;var n=function(a,e){a.serviceStatsResult=null,a.error||(a.serviceStatsResult=P.parse(a.response.body.StorageServiceStats));var i=function(a){t(a.error,a.serviceStatsResult,a.response)};e(a,i)};this.performRequest(i,null,e,n)},i.prototype.getServiceProperties=function(a,t){return this.getAccountServiceProperties(a,t)},i.prototype.setServiceProperties=function(a,t,e){return this.setAccountServiceProperties(a,t,e)},i.prototype.listContainersSegmented=function(a,t,e){this.listContainersSegmentedWithPrefix(null,a,t,e)},i.prototype.listContainersSegmentedWithPrefix=function(a,t,e,i){var n;g.normalizeArgs(e,i,function(a,t){n=a,i=t}),h.validateArgs("listContainers",function(a){a.callback(i)});var o=d(!0,{},n),p=w.get().withQueryOption(S.COMP,"list").withQueryOption(S.MAX_RESULTS,o.maxResults).withQueryOption(S.INCLUDE,o.include);g.objectIsNull(t)||p.withQueryOption(S.MARKER,t.nextMarker),p.withQueryOption(S.PREFIX,a),o.requestLocationMode=g.getNextListingLocationMode(t);var l=function(a,t){if(a.listContainersResult=null,!a.error){a.listContainersResult={entries:null,continuationToken:null},a.listContainersResult.entries=[];var e=[];a.response.body.EnumerationResults.Containers&&a.response.body.EnumerationResults.Containers.Container&&(e=a.response.body.EnumerationResults.Containers.Container,c.isArray(e)||(e=[e])),e.forEach(function(t){var e=D.parse(t);a.listContainersResult.entries.push(e)}),a.response.body.EnumerationResults.NextMarker&&(a.listContainersResult.continuationToken={nextMarker:null,targetLocation:null},a.listContainersResult.continuationToken.nextMarker=a.response.body.EnumerationResults.NextMarker,a.listContainersResult.continuationToken.targetLocation=a.targetLocation)}var n=function(a){i(a.error,a.listContainersResult,a.response)};t(a,n)};this.performRequest(p,null,o,l)},i.prototype.doesContainerExist=function(a,t,e){var i;g.normalizeArgs(t,e,function(a,t){i=a,e=t}),h.validateArgs("doesContainerExist",function(t){t.string(a,"container"),t.containerNameIsValid(a),t.callback(e)});var n=d(!0,{},i);this._doesContainerExist(a,!1,n,e)},i.prototype.createContainer=function(a,t,e){var i;g.normalizeArgs(t,e,function(a,t){i=a,e=t}),h.validateArgs("createContainer",function(t){t.string(a,"container"),t.test(function(){return"$logs"!==a},"Container name format is incorrect"),t.containerNameIsValid(a),t.callback(e)});var n=d(!0,{},i),o=w.put(a).withQueryOption(S.RESTYPE,"container");o.addOptionalMetadataHeaders(n.metadata),o.withHeader(_.BLOB_PUBLIC_ACCESS,n.publicAccessLevel);var p=function(t,i){t.containerResult=null,t.error||(t.containerResult=new D(a),t.containerResult.getPropertiesFromHeaders(t.response.headers),n.metadata&&(t.containerResult.metadata=n.metadata));var o=function(a){e(a.error,a.containerResult,a.response)};i(t,o)};this.performRequest(o,null,n,p)},i.prototype.createContainerIfNotExists=function(a,t,e){var i;g.normalizeArgs(t,e,function(a,t){i=a,e=t}),h.validateArgs("createContainerIfNotExists",function(t){t.string(a,"container"),t.containerNameIsValid(a),t.callback(e)});var n=d(!0,{},i),o=this;o._doesContainerExist(a,!0,n,function(t,i,p){var l=i.exists;i.created=!1,delete i.exists,t?e(t,i,p):l?(p.isSuccessful=!0,e(t,i,p)):o.createContainer(a,n,function(a,t,i){a?a&&a.statusCode===E.HttpConstants.HttpResponseCodes.Conflict&&a.code===E.BlobErrorCodeStrings.CONTAINER_ALREADY_EXISTS&&(a=null,i.isSuccessful=!0):t.created=!0,e(a,t,i)})})},i.prototype.getContainerProperties=function(a,t,e){var i;g.normalizeArgs(t,e,function(a,t){i=a,e=t}),h.validateArgs("getContainerProperties",function(t){t.string(a,"container"),t.containerNameIsValid(a),t.callback(e)});var n=d(!0,{},i),o=w.head(a).withQueryOption(S.RESTYPE,"container").withHeader(_.LEASE_ID,n.leaseId);n.requestLocationMode=E.RequestLocationMode.PRIMARY_OR_SECONDARY;var p=this,l=function(t,i){t.containerResult=null,t.error||(t.containerResult=new D(a),t.containerResult.metadata=p.parseMetadataHeaders(t.response.headers),t.containerResult.getPropertiesFromHeaders(t.response.headers));var n=function(a){e(a.error,a.containerResult,a.response)};i(t,n)};this.performRequest(o,null,n,l)},i.prototype.getContainerMetadata=function(a,t,e){var i;g.normalizeArgs(t,e,function(a,t){i=a,e=t}),h.validateArgs("getContainerMetadata",function(t){t.string(a,"container"),t.containerNameIsValid(a),t.callback(e)});var n=d(!0,{},i),o=w.head(a).withQueryOption(S.RESTYPE,"container").withQueryOption(S.COMP,"metadata").withHeader(_.LEASE_ID,n.leaseId);n.requestLocationMode=E.RequestLocationMode.PRIMARY_OR_SECONDARY;var p=this,l=function(t,i){t.containerResult=null,t.error||(t.containerResult=new D(a),t.containerResult.metadata=p.parseMetadataHeaders(t.response.headers),t.containerResult.getPropertiesFromHeaders(t.response.headers));var n=function(a){e(a.error,a.containerResult,a.response)};i(t,n)};this.performRequest(o,null,n,l)},i.prototype.setContainerMetadata=function(a,t,e,i){var n;g.normalizeArgs(e,i,function(a,t){n=a,i=t}),h.validateArgs("setContainerMetadata",function(e){e.string(a,"container"),e.object(t,"metadata"),e.containerNameIsValid(a),e.callback(i)});var o=d(!0,{},n),p=w.put(a).withQueryOption(S.RESTYPE,"container").withQueryOption(S.COMP,"metadata").withHeader(_.LEASE_ID,o.leaseId);p.addOptionalMetadataHeaders(t);var l=function(t,e){t.containerResult=null,t.error||(t.containerResult=new D(a),t.containerResult.getPropertiesFromHeaders(t.response.headers));var n=function(a){i(a.error,a.containerResult,a.response)};e(t,n)};this.performRequest(p,null,o,l)},i.prototype.getContainerAcl=function(a,t,e){var i;g.normalizeArgs(t,e,function(a,t){i=a,e=t}),h.validateArgs("getContainerAcl",function(t){t.string(a,"container"),t.containerNameIsValid(a),t.callback(e)});var n=d(!0,{},i),o=w.get(a).withQueryOption(S.RESTYPE,"container").withQueryOption(S.COMP,"acl").withHeader(_.LEASE_ID,n.leaseId);n.requestLocationMode=E.RequestLocationMode.PRIMARY_OR_SECONDARY;var p=function(t,i){t.containerResult=null,t.error||(t.containerResult=new D(a),t.containerResult.getPropertiesFromHeaders(t.response.headers),t.containerResult.signedIdentifiers=O.parse(t.response.body));var n=function(a){e(a.error,a.containerResult,a.response)};i(t,n)};this.performRequest(o,null,n,p)},i.prototype.setContainerAcl=function(a,t,i,n){var o;g.normalizeArgs(i,n,function(a,t){o=a,n=t}),h.validateArgs("setContainerAcl",function(t){t.string(a,"container"),t.containerNameIsValid(a),t.callback(n)});var p=d(!0,{},o),l=null;if(t){if(c.isArray(t))throw new TypeError(b.INVALID_SIGNED_IDENTIFIERS);l=O.serialize(t)}var r=w.put(a).withQueryOption(S.RESTYPE,"container").withQueryOption(S.COMP,"acl").withHeader(_.CONTENT_LENGTH,g.objectIsNull(l)?0:e.byteLength(l)).withHeader(_.BLOB_PUBLIC_ACCESS,p.publicAccessLevel).withHeader(_.LEASE_ID,p.leaseId).withBody(l),s=function(e,i){e.containerResult=null,e.error||(e.containerResult=new D(a,p.publicAccessLevel),e.containerResult.getPropertiesFromHeaders(e.response.headers),t&&(e.containerResult.signedIdentifiers=t));var o=function(a){n(a.error,a.containerResult,a.response)};i(e,o)};this.performRequest(r,r.body,p,s)},i.prototype.deleteContainer=function(a,t,e){var i;g.normalizeArgs(t,e,function(a,t){i=a,e=t}),h.validateArgs("deleteContainer",function(t){t.string(a,"container"),t.containerNameIsValid(a),t.callback(e)});var n=d(!0,{},i),o=w.del(a).withQueryOption(S.RESTYPE,"container").withHeader(_.LEASE_ID,n.leaseId),p=function(a,t){var i=function(a){e(a.error,a.response)};t(a,i)};this.performRequest(o,null,n,p)},i.prototype.deleteContainerIfExists=function(a,t,e){var i;g.normalizeArgs(t,e,function(a,t){i=a,e=t}),h.validateArgs("deleteContainerIfExists",function(t){t.string(a,"container"),t.containerNameIsValid(a),t.callback(e)});var n=d(!0,{},i),o=this;o._doesContainerExist(a,!0,n,function(t,i,p){t?e(t,i.exists,p):i.exists?o.deleteContainer(a,n,function(a,t){var i;a?a&&a.statuscode===E.HttpConstants.HttpResponseCodes.NotFound&&a.code===E.BlobErrorCodeStrings.CONTAINER_NOT_FOUND&&(i=!1,a=null,t.isSuccessful=!0):i=!0,e(a,i,t)}):(p.isSuccessful=!0,e(t,!1,p))})},i.prototype.listBlobDirectoriesSegmented=function(a,t,e,i){this.listBlobDirectoriesSegmentedWithPrefix(a,null,t,e,i)},i.prototype.listBlobDirectoriesSegmentedWithPrefix=function(a,t,e,i,n){var o;g.normalizeArgs(i,n,function(a,t){o=a,n=t}),o.delimiter="/",this._listBlobsOrDircotriesSegmentedWithPrefix(a,t,e,k.ListBlobTypes.Directory,o,n)},i.prototype.listBlobsSegmented=function(a,t,e,i){this.listBlobsSegmentedWithPrefix(a,null,t,e,i)},i.prototype.listBlobsSegmentedWithPrefix=function(a,t,e,i,n){this._listBlobsOrDircotriesSegmentedWithPrefix(a,t,e,k.ListBlobTypes.Blob,i,n)},i.prototype.acquireLease=function(a,t,e,i){var n;g.normalizeArgs(e,i,function(a,t){n=a,i=t}),h.validateArgs("acquireLease",function(t){t.string(a,"container"),t.containerNameIsValid(a),t.callback(i)});var o=d(!0,{},n);o.leaseDuration||(o.leaseDuration=-1),this._leaseImpl(a,t,null,k.LeaseOperation.ACQUIRE,o,i)},i.prototype.renewLease=function(a,t,e,i,n){var o;g.normalizeArgs(i,n,function(a,t){o=a,n=t}),h.validateArgs("renewLease",function(t){t.string(a,"container"),t.containerNameIsValid(a),t.callback(n)});var p=d(!0,{},o);this._leaseImpl(a,t,e,k.LeaseOperation.RENEW,p,n)},i.prototype.changeLease=function(a,t,e,i,n,o){var p;g.normalizeArgs(n,o,function(a,t){p=a,o=t}),h.validateArgs("changeLease",function(t){t.string(a,"container"),t.containerNameIsValid(a),t.callback(o)});var l=d(!0,{},p);l.proposedLeaseId=i,this._leaseImpl(a,t,e,k.LeaseOperation.CHANGE,l,o)},i.prototype.releaseLease=function(a,t,e,i,n){var o;g.normalizeArgs(i,n,function(a,t){o=a,n=t}),h.validateArgs("releaseLease",function(t){t.string(a,"container"),t.containerNameIsValid(a),t.callback(n)});var p=d(!0,{},o);this._leaseImpl(a,t,e,k.LeaseOperation.RELEASE,p,n)},i.prototype.breakLease=function(a,t,e,i){var n;g.normalizeArgs(e,i,function(a,t){n=a,i=t}),h.validateArgs("breakLease",function(t){t.string(a,"container"),t.containerNameIsValid(a),t.callback(i)});var o=d(!0,{},n);this._leaseImpl(a,t,null,k.LeaseOperation.BREAK,o,i)},i.prototype.getBlobProperties=function(a,t,e,i){var o;g.normalizeArgs(e,i,function(a,t){o=a,i=t}),h.validateArgs("getBlobProperties",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(i)});var p=d(!0,{},o),l=n(a,t),r=w.head(l);p.snapshotId&&r.withQueryOption(S.SNAPSHOT,p.snapshotId),M.setHeadersFromBlob(r,p),p.requestLocationMode=E.RequestLocationMode.PRIMARY_OR_SECONDARY;var s=this,c=function(e,n){e.blobResult=null,e.error||(e.blobResult=new M(a,t),e.blobResult.metadata=s.parseMetadataHeaders(e.response.headers),e.blobResult.getPropertiesFromHeaders(e.response.headers));var o=function(a){i(a.error,a.blobResult,a.response)};n(e,o)};this.performRequest(r,null,p,c)},i.prototype.getBlobMetadata=function(a,t,e,i){var o;g.normalizeArgs(e,i,function(a,t){o=a,i=t}),h.validateArgs("getBlobMetadata",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(i)});var p=d(!0,{},o),l=n(a,t),r=w.head(l);r.withQueryOption(S.COMP,"metadata"),r.withQueryOption(S.SNAPSHOT,p.snapshotId),M.setHeadersFromBlob(r,p),p.requestLocationMode=E.RequestLocationMode.PRIMARY_OR_SECONDARY;var s=this,c=function(e,n){e.blobResult=null,e.error||(e.blobResult=new M(a,t),e.blobResult.metadata=s.parseMetadataHeaders(e.response.headers),e.blobResult.getPropertiesFromHeaders(e.response.headers));var o=function(a){i(a.error,a.blobResult,a.response)};n(e,o)};this.performRequest(r,null,p,c)},i.prototype.setBlobProperties=function(a,t,e,i,o){var p;g.normalizeArgs(i,o,function(a,t){p=a,o=t}),h.validateArgs("setBlobProperties",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(o)});var l=d(!0,{contentSettings:e},p),r=n(a,t),s=w.put(r).withQueryOption(S.COMP,"properties");M.setPropertiesFromBlob(s,l),this._setBlobPropertiesHelper({webResource:s,options:l,container:a,blob:t,callback:o})},i.prototype.setBlobMetadata=function(a,t,e,i,o){var p;g.normalizeArgs(i,o,function(a,t){p=a,o=t}),h.validateArgs("setBlobMetadata",function(i){i.string(a,"container"),i.string(t,"blob"),i.object(e,"metadata"),i.containerNameIsValid(a),i.callback(o)});var l=d(!0,{},p),r=n(a,t),s=w.put(r).withQueryOption(S.COMP,"metadata");s.withQueryOption(S.SNAPSHOT,l.snapshotId),l.metadata=e,M.setHeadersFromBlob(s,l);var c=function(e,i){e.blobResult=null,e.error||(e.blobResult=new M(a,t),e.blobResult.getPropertiesFromHeaders(e.response.headers));var n=function(a){o(a.error,a.blobResult,a.response)};i(e,n)};this.performRequest(s,null,l,c)},i.prototype.getBlobToLocalFile=function(a,t,e,i,n){var o;return g.normalizeArgs(i,n,function(a,t){o=a,n=t}),h.validateArgs("getBlobToLocalFile",function(i){i.string(a,"container"),i.string(t,"blob"),i.string(e,"localFileName"),i.containerNameIsValid(a),i.callback(n)}),this._getBlobToLocalFile(a,t,e,o,n)},i.prototype.createReadStream=function(a,t,e,i){var n;g.normalizeArgs(e,i,function(a,t){n=a,i=t}),h.validateArgs("createReadStream",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a)});var o=new R;return this.getBlobToStream(a,t,o,n,function(a,t,e){a&&o.emit("error",a),i&&i(a,t,e)}),o},i.prototype.getBlobToStream=function(a,t,e,i,n){var o;g.normalizeArgs(i,n,function(a,t){o=a,n=t}),o.speedSummary=o.speedSummary||new A(t),h.validateArgs("getBlobToStream",function(i){i.string(a,"container"),i.string(t,"blob"),i.object(e,"writeStream"),i.containerNameIsValid(a),i.callback(n)});var p=d(!0,{},o),l={timeoutIntervalInMs:p.timeoutIntervalInMs,clientRequestTimeoutInMs:p.clientRequestTimeoutInMs,snapshotId:p.snapshotId,accessConditions:p.accessConditions};if(p.skipSizeCheck)this._getBlobToStream(a,t,e,p,n);else{var r=this;this.getBlobProperties(a,t,l,function(i,o){if(i)n(i);else{var l;if(p.rangeStart){var s=o.contentLength-1,c=p.rangeEnd?Math.min(p.rangeEnd,s):s;l=c-p.rangeStart+1}else l=o.contentLength;p.speedSummary.totalSize=l,l>r.singleBlobPutThresholdInBytes?(g.setObjectInnerPropertyValue(p,["contentSettings","contentMD5"],g.tryGetValueChain(o,["contentSettings","contentMD5"],null)),r._getBlobToRangeStream(a,t,o.blobType,e,p,n)):r._getBlobToStream(a,t,e,p,n)}})}return p.speedSummary},i.prototype.getBlobToText=function(a,t,e,i){var o;g.normalizeArgs(e,i,function(a,t){o=a,i=t}),h.validateArgs("getBlobToText",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(i)});var p=d(!0,{},o),l=n(a,t),r=w.get(l).withRawResponse();r.withQueryOption(S.SNAPSHOT,p.snapshotId),M.setHeadersFromBlob(r,p),this._setRangeContentMD5Header(r,p),p.requestLocationMode=E.RequestLocationMode.PRIMARY_OR_SECONDARY;var s=this,c=function(e,n){e.text=null,e.blobResult=null,e.error||(e.blobResult=new M(a,t),e.blobResult.metadata=s.parseMetadataHeaders(e.response.headers),e.blobResult.getPropertiesFromHeaders(e.response.headers),e.text=e.response.body,s._validateLengthAndMD5(p,e));var o=function(a){i(a.error,a.text,a.blobResult,a.response)};n(e,o)};this.performRequest(r,null,p,c)},i.prototype.deleteBlob=function(a,t,e,i){var o;g.normalizeArgs(e,i,function(a,t){o=a,i=t}),h.validateArgs("deleteBlob",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(i)});var p=d(!0,{},o),l=n(a,t),r=w.del(l).withHeader(_.LEASE_ID,p.leaseId);if(!g.objectIsNull(p.snapshotId)&&!g.objectIsNull(p.deleteSnapshots))throw new j("options",b.INVALID_DELETE_SNAPSHOT_OPTION);r.withQueryOption(S.SNAPSHOT,p.snapshotId),r.withHeader(_.DELETE_SNAPSHOT,p.deleteSnapshots),M.setHeadersFromBlob(r,p);var s=function(a,t){var e=function(a){i(a.error,a.response)};t(a,e)};this.performRequest(r,null,p,s)},i.prototype.doesBlobExist=function(a,t,e,i){var n;g.normalizeArgs(e,i,function(a,t){n=a,i=t}),h.validateArgs("doesBlobExist",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(i)});var o=d(!0,{},n);this._doesBlobExist(a,t,!1,o,i)},i.prototype.deleteBlobIfExists=function(a,t,e,i){var n;g.normalizeArgs(e,i,function(a,t){n=a,i=t}),h.validateArgs("deleteBlobIfExists",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(i)});var o=d(!0,{},n),p=this;p._doesBlobExist(a,t,!0,o,function(e,n,l){e?i(e,n.exists,l):n.exists?p.deleteBlob(a,t,o,function(a,t){var e;a?a&&a.statusCode===E.HttpConstants.HttpResponseCodes.NotFound&&a.code===E.BlobErrorCodeStrings.BLOB_NOT_FOUND&&(e=!1,a=null,t.isSuccessful=!0):e=!0,i(a,e,t)}):(l.isSuccessful=!0,i(e,!1,l))})},i.prototype.createBlobSnapshot=function(a,t,e,i){var o;g.normalizeArgs(e,i,function(a,t){o=a,i=t}),h.validateArgs("createBlobSnapshot",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(i)});var p=d(!0,{},o),l=n(a,t),r=w.put(l).withQueryOption(S.COMP,"snapshot");M.setHeadersFromBlob(r,p);var s=function(a,t){a.snapshotId=null,a.error||(a.snapshotId=a.response.headers[_.SNAPSHOT]);var e=function(a){i(a.error,a.snapshotId,a.response)};t(a,e)};this.performRequest(r,null,p,s)},i.prototype.startCopyBlob=function(a,t,e,i,o){var p;g.normalizeArgs(i,o,function(a,t){p=a,o=t}),h.validateArgs("startCopyBlob",function(i){i.string(a,"sourceUri"),i.string(t,"targetContainer"),i.string(e,"targetBlob"),i.containerNameIsValid(t),i.callback(o)});var r=n(t,e),s=d(!0,{},p);if(s.snapshotId){var c=l.parse(a,!0);if(c.query.snapshot)throw new j("options.snapshotId","Duplicate snapshot supplied in both the source uri and option.");c.search=void 0,c.query.snapshot=s.snapshotId,a=l.format(c)}var m=w.put(r).withHeader(_.COPY_SOURCE,a);s.isIncrementalCopy&&m.withQueryOption(S.COMP,"incrementalcopy"),m.withHeader(_.LEASE_ID,s.leaseId),m.withHeader(_.SOURCE_LEASE_ID,s.sourceLeaseId),m.addOptionalMetadataHeaders(s.metadata);var u=function(a,i){a.blobResult=null,a.error||(a.blobResult=new M(t,e),a.blobResult.getPropertiesFromHeaders(a.response.headers),s.metadata&&(a.blobResult.metadata=s.metadata));var n=function(a){o(a.error,a.blobResult,a.response)};i(a,n)};this.performRequest(m,null,s,u)},i.prototype.abortCopyBlob=function(a,t,e,i,o){var p;g.normalizeArgs(i,o,function(a,t){p=a,o=t}),h.validateArgs("abortCopyBlob",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(o)});var l=n(a,t),r=d(!0,{},p),s=w.put(l).withQueryOption(S.COPY_ID,e).withQueryOption(S.COMP,"copy").withHeader(_.COPY_ACTION,"abort");s.withHeader(_.LEASE_ID,r.leaseId);var c=function(a,t){var e=function(a){o(a.error,a.response)};t(a,e)};this.performRequest(s,null,r,c)},i.prototype.generateSharedAccessSignature=function(a,t,e,i){if(!this.storageCredentials)throw new q("storageCredentials");if(!this.storageCredentials.generateSignedQueryString)throw new j("storageCredentials",b.CANNOT_CREATE_SAS_WITHOUT_ACCOUNT_KEY);h.validateArgs("generateSharedAccessSignature",function(t){t.string(a,"container"),t.containerNameIsValid(a),t.object(e,"sharedAccessPolicy")});var o=k.ResourceTypes.CONTAINER;t&&(h.validateArgs("generateSharedAccessSignature",function(a){a.string(t,"blob")}),o=k.ResourceTypes.BLOB),e.AccessPolicy&&(g.objectIsNull(e.AccessPolicy.Start)||(c.isDate(e.AccessPolicy.Start)||(e.AccessPolicy.Start=new Date(e.AccessPolicy.Start)),e.AccessPolicy.Start=g.truncatedISO8061Date(e.AccessPolicy.Start)),g.objectIsNull(e.AccessPolicy.Expiry)||(c.isDate(e.AccessPolicy.Expiry)||(e.AccessPolicy.Expiry=new Date(e.AccessPolicy.Expiry)),e.AccessPolicy.Expiry=g.truncatedISO8061Date(e.AccessPolicy.Expiry)));var p=n(a,t,!0);return this.storageCredentials.generateSignedQueryString(E.ServiceType.Blob,p,e,null,{headers:i,resourceType:o})},i.prototype.getUrl=function(a,t,e,i,o){h.validateArgs("getUrl",function(t){t.string(a,"container"),t.containerNameIsValid(a)});var r;r=g.objectIsNull(i)||i!==!1?this.host.primaryHost:this.host.secondaryHost,r=g.trimPortFromUri(r),r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");var s=p.parse(e);o&&(s[S.SNAPSHOT]=o);var c=l.format({pathname:this._getPath(n(a,t)),query:s});return l.resolve(r,c)},i.prototype.createPageBlob=function(a,t,e,i,o){var p;if(g.normalizeArgs(i,o,function(a,t){p=a,o=t}),h.validateArgs("createPageBlob",function(i){i.string(a,"container"),i.string(t,"blob"),i.containerNameIsValid(a),i.value(e,"length"),i.callback(o)}),e&&e%k.PAGE_SIZE!==0)throw new RangeError(b.INVALID_PAGE_BLOB_LENGTH);var l=d(!0,{},p),r=n(a,t),s=w.put(r).withHeader(_.BLOB_TYPE,k.BlobTypes.PAGE).withHeader(_.BLOB_CONTENT_LENGTH,e).withHeader(_.CONTENT_LENGTH,0).withHeader(_.LEASE_ID,l.leaseId);M.setHeadersFromBlob(s,l);var c=function(a,t){var e=function(a){o(a.error,a.response)};t(a,e)};this.performRequest(s,null,l,c)},i.prototype.createPageBlobFromLocalFile=function(a,t,e,i,n){return this._createBlobFromLocalFile(a,t,k.BlobTypes.PAGE,e,i,n)},i.prototype.createPageBlobFromStream=function(a,t,e,i,n,o){return this._createBlobFromStream(a,t,k.BlobTypes.PAGE,e,i,n,o)},i.prototype.createWriteStreamToExistingPageBlob=function(a,t,e,i){return this._createWriteStreamToBlob(a,t,k.BlobTypes.PAGE,0,!1,e,i)},i.prototype.createWriteStreamToNewPageBlob=function(a,t,e,i,n){return this._createWriteStreamToBlob(a,t,k.BlobTypes.PAGE,e,!0,i,n)},i.prototype.createPagesFromStream=function(a,t,e,i,n,o,p){var l;g.normalizeArgs(o,p,function(a,t){l=a,p=t}),h.validateArgs("createPagesFromStream",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(p)});var r=d(!0,{},l);if(n-i+1>k.MAX_UPDATE_PAGE_SIZE)throw new RangeError(b.INVALID_PAGE_RANGE_FOR_UPDATE);var s=this;g.objectIsNull(r.transactionalContentMD5)&&r.useTransactionalMD5?g.calculateMD5(e,k.MAX_UPDATE_PAGE_SIZE,r,function(e,o){r.transactionalContentMD5=o,s._createPages(a,t,e,null,i,n,r,p)}):s._createPages(a,t,null,e,i,n,r,p)},i.prototype.listPageRanges=function(a,t,e,i){var o;g.normalizeArgs(e,i,function(a,t){o=a,i=t}),h.validateArgs("listPageRanges",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(i)});var p=d(!0,{},o),l=n(a,t),r=w.get(l).withQueryOption(S.COMP,"pagelist").withQueryOption(S.SNAPSHOT,p.snapshotId);if(p.rangeStart&&p.rangeStart%k.PAGE_SIZE!==0)throw new RangeError(b.INVALID_PAGE_START_OFFSET);if(p.rangeEnd&&(p.rangeEnd+1)%k.PAGE_SIZE!==0)throw new RangeError(b.INVALID_PAGE_END_OFFSET);M.setHeadersFromBlob(r,p),p.requestLocationMode=B.PRIMARY_OR_SECONDARY;var s=function(a,t){if(a.pageRanges=null,!a.error){a.pageRanges=[];var e=[];a.response.body.PageList.PageRange&&(e=a.response.body.PageList.PageRange,c.isArray(e)||(e=[e])),e.forEach(function(t){var e={start:parseInt(t.Start,10),end:parseInt(t.End,10)};a.pageRanges.push(e)})}var n=function(a){i(a.error,a.pageRanges,a.response)};t(a,n)};this.performRequest(r,null,p,s)},i.prototype.getPageRangesDiff=function(a,t,e,i,o){var p;g.normalizeArgs(i,o,function(a,t){p=a,o=t}),h.validateArgs("getPageRangesDiff",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(o)});var l=d(!0,{},p),r=n(a,t),s=w.get(r).withQueryOption(S.COMP,"pagelist").withQueryOption(S.SNAPSHOT,l.snapshotId).withQueryOption(S.PREV_SNAPSHOT,e);if(l.rangeStart&&l.rangeStart%k.PAGE_SIZE!==0)throw new RangeError(b.INVALID_PAGE_START_OFFSET);if(l.rangeEnd&&(l.rangeEnd+1)%k.PAGE_SIZE!==0)throw new RangeError(b.INVALID_PAGE_END_OFFSET);if(l.rangeEnd&&(l.rangeEnd+1)%k.PAGE_SIZE!==0)throw new RangeError(b.INVALID_PAGE_END_OFFSET);M.setHeadersFromBlob(s,l),l.requestLocationMode=B.PRIMARY_OR_SECONDARY;var m=function(a,t){if(a.pageRangesDiff=null,!a.error){if(a.pageRangesDiff=[],a.response.body.PageList.PageRange){var e=a.response.body.PageList.PageRange;c.isArray(e)||(e=[e]),e.forEach(function(t){var e={start:parseInt(t.Start,10),end:parseInt(t.End,10),isCleared:!1};a.pageRangesDiff.push(e)})}if(a.response.body.PageList.ClearRange){var i=a.response.body.PageList.ClearRange;c.isArray(i)||(i=[i]),i.forEach(function(t){var e={start:parseInt(t.Start,10),end:parseInt(t.End,10),isCleared:!0};a.pageRangesDiff.push(e)})}}var n=function(a){o(a.error,a.pageRangesDiff,a.response)};t(a,n)};this.performRequest(s,null,l,m)},i.prototype.clearPageRange=function(a,t,e,i,n,o){var p;g.normalizeArgs(n,o,function(a,t){p=a,o=t}),h.validateArgs("clearPageRange",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(o)});var l=d(!0,{},p),r=this._updatePageBlobPagesImpl(a,t,e,i,k.PageWriteOptions.CLEAR,l),s=this,c=function(a,t){var e=function(a){o(a.error,a.response)};t(a,e)};s.performRequest(r,null,l,c)},i.prototype.resizePageBlob=function(a,t,e,i,o){var p;g.normalizeArgs(i,o,function(a,t){p=a,o=t}),h.validateArgs("resizePageBlob",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(o)});var l=d(!0,{},p),r=n(a,t),s=w.put(r).withQueryOption(S.COMP,"properties");if(e&&e%k.PAGE_SIZE!==0)throw new RangeError(b.INVALID_PAGE_BLOB_LENGTH);s.withHeader(_.BLOB_CONTENT_LENGTH,e),this._setBlobPropertiesHelper({webResource:s,options:l,container:a,blob:t,callback:o})},i.prototype.setPageBlobSequenceNumber=function(a,t,e,i,o,p){var l;if(g.normalizeArgs(o,p,function(a,t){l=a,p=t}),h.validateArgs("setPageBlobSequenceNumber",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(p)}),e===F.SequenceNumberAction.INCREMENT){if(!g.objectIsNull(i))throw new j("sequenceNumber",b.BLOB_INVALID_SEQUENCE_NUMBER)}else if(g.objectIsNull(i))throw new q("sequenceNumber",r.format(b.ARGUMENT_NULL_OR_EMPTY,"sequenceNumber"));var s=d(!0,{},l),c=n(a,t),m=w.put(c).withQueryOption(S.COMP,"properties").withHeader(_.SEQUENCE_NUMBER_ACTION,e);e!==F.SequenceNumberAction.INCREMENT&&m.withHeader(_.SEQUENCE_NUMBER,i);var u=function(e,i){e.blobResult=null,e.error||(e.blobResult=new M(a,t),e.blobResult.getPropertiesFromHeaders(e.response.headers));var n=function(a){p(a.error,a.blobResult,a.response)};i(e,n)};this.performRequest(m,null,s,u)},i.prototype.createBlockBlobFromLocalFile=function(a,t,e,i,n){return this._createBlobFromLocalFile(a,t,k.BlobTypes.BLOCK,e,i,n)},i.prototype.createBlockBlobFromStream=function(a,t,e,i,n,o){return this._createBlobFromStream(a,t,k.BlobTypes.BLOCK,e,i,n,o)},i.prototype.createBlockBlobFromText=function(a,t,e,i,n){return this._createBlobFromText(a,t,k.BlobTypes.BLOCK,e,i,n)},i.prototype.createWriteStreamToBlockBlob=function(a,t,e,i){return this._createWriteStreamToBlob(a,t,k.BlobTypes.BLOCK,0,!1,e,i)},i.prototype.createBlockFromStream=function(a,t,e,i,n,o,p){var l;g.normalizeArgs(o,p,function(a,t){l=a,p=t}),h.validateArgs("createBlockFromStream",function(a){a.string(t,"container"),a.string(e,"blob"),a.containerNameIsValid(t),a.exists(i,"readStream"),a.value(n,"streamLength"),a.callback(p)});var r=d(!0,{},l);if(n>k.MAX_BLOCK_BLOB_BLOCK_SIZE)throw new RangeError(b.INVALID_STREAM_LENGTH);this._createBlock(a,t,e,null,i,n,r,p)},i.prototype.createBlockFromText=function(a,t,i,n,o,p){var l;g.normalizeArgs(o,p,function(a,t){l=a,p=t}),h.validateArgs("createBlockFromText",function(a){a.string(t,"container"),a.string(i,"blob"),a.containerNameIsValid(t),a.callback(p)});var r=d(!0,{},l),s=e.isBuffer(n)?n.length:e.byteLength(n);if(s>k.MAX_BLOCK_BLOB_BLOCK_SIZE)throw new RangeError(b.INVALID_TEXT_LENGTH);this._createBlock(a,t,i,n,null,s,r,p)},i.prototype._createBlock=function(a,t,i,o,p,l,r,s){var c=n(t,i),d=this,m=function(){var t=w.put(c).withQueryOption(S.COMP,"block").withQueryOption(S.BLOCK_ID,new e(a).toString("base64")).withHeader(_.CONTENT_LENGTH,l);M.setHeadersFromBlob(t,r);var i=function(a,t){var e=function(a){s(a.error,a.response)};t(a,e)};g.objectIsNull(o)?d.performRequestOutputStream(t,p,r,i):d.performRequest(t,o,r,i)};g.objectIsNull(r.transactionalContentMD5)&&r.useTransactionalMD5?g.objectIsNull(o)?g.calculateMD5(p,l,r,function(a,t){r.transactionalContentMD5=t,o=a,l=a.length,m()}):(r.transactionalContentMD5=g.getContentMd5(o),m()):m()},i.prototype.commitBlocks=function(a,t,i,o,p){var l;g.normalizeArgs(o,p,function(a,t){l=a,p=t}),h.validateArgs("commitBlocks",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(p)});var r=L.serialize(i),s=n(a,t),c=d(!0,{},l),m=w.put(s).withQueryOption(S.COMP,"blocklist").withHeader(_.CONTENT_LENGTH,e.byteLength(r)).withBody(r);M.setPropertiesFromBlob(m,c);var u=function(e,n){e.blobResult=new M(a,t),e.blobResult.list=null,e.error||(e.blobResult.getPropertiesFromHeaders(e.response.headers),e.blobResult.list=i);var o=function(a){p(a.error,a.blobResult,a.response)};n(e,o)};this.performRequest(m,m.body,c,u)},i.prototype.listBlocks=function(a,t,e,i,o){var p;g.normalizeArgs(i,o,function(a,t){p=a,o=t}),h.validateArgs("listBlocks",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(o)});var l=n(a,t),r=d(!0,{},p),s=w.get(l).withQueryOption(S.COMP,"blocklist").withQueryOption(S.BLOCK_LIST_TYPE,e).withQueryOption(S.SNAPSHOT,r.snapshotId);
r.requestLocationMode=B.PRIMARY_OR_SECONDARY;var c=function(a,t){a.blockListResult=null,a.error||(a.blockListResult=L.parse(a.response.body.BlockList));var e=function(a){o(a.error,a.blockListResult,a.response)};t(a,e)};this.performRequest(s,null,r,c)},i.prototype.generateBlockIdPrefix=function(){var a=Math.floor(4294967296*Math.random()).toString(16);return g.zeroPaddingString(a,8)},i.prototype.getBlockId=function(a,t){return a+"-"+g.zeroPaddingString(t,6)},i.prototype.createOrReplaceAppendBlob=function(a,t,e,i){var o;g.normalizeArgs(e,i,function(a,t){o=a,i=t}),h.validateArgs("createOrReplaceAppendBlob",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(i)});var p=d(!0,{},o),l=n(a,t),r=w.put(l).withHeader(_.BLOB_TYPE,k.BlobTypes.APPEND).withHeader(_.LEASE_ID,p.leaseId).withHeader(_.CONTENT_LENGTH,0);M.setHeadersFromBlob(r,p);var s=function(a,t){var e=function(a){i(a.error,a.response)};t(a,e)};this.performRequest(r,null,p,s)},i.prototype.createAppendBlobFromLocalFile=function(a,t,e,i,n){return this._createBlobFromLocalFile(a,t,k.BlobTypes.APPEND,e,i,n)},i.prototype.createAppendBlobFromStream=function(a,t,e,i,n,o){return this._createBlobFromStream(a,t,k.BlobTypes.APPEND,e,i,n,o)},i.prototype.createAppendBlobFromText=function(a,t,e,i,n){return this._createBlobFromText(a,t,k.BlobTypes.APPEND,e,i,n)},i.prototype.createWriteStreamToNewAppendBlob=function(a,t,e,i){return this._createWriteStreamToBlob(a,t,k.BlobTypes.APPEND,0,!0,e,i)},i.prototype.createWriteStreamToExistingAppendBlob=function(a,t,e,i){return this._createWriteStreamToBlob(a,t,k.BlobTypes.APPEND,0,!1,e,i)},i.prototype.appendFromLocalFile=function(a,t,e,i,n){var p;g.normalizeArgs(i,n,function(a,t){p=a,n=t}),h.validateArgs("appendFromLocalFile",function(i){i.string(a,"container"),i.string(t,"blob"),i.containerNameIsValid(a),i.string(e,"localFileName"),i.callback(n)});var l=d(!0,{},p),r=this;return o.stat(e,function(i,o){if(i)n(i);else{var p=new C(e,{calcContentMd5:l.storeBlobContentMD5}),s=function(a,t,e){g.objectIsFunction(p.destroy)&&p.destroy(),n(a,t,e)};r._uploadBlobFromStream(!1,a,t,k.BlobTypes.APPEND,p,o.size,l,s)}}),l.speedSummary},i.prototype.appendFromStream=function(a,t,e,i,n,o){var p;return g.normalizeArgs(n,o,function(a,t){p=a,o=t}),h.validateArgs("appendFromStream",function(n){n.string(a,"container"),n.string(t,"blob"),n.containerNameIsValid(a),n.exists(e,"stream"),n.value(i,"streamLength"),n.callback(o)}),this._uploadBlobFromStream(!1,a,t,k.BlobTypes.APPEND,e,i,p,o)},i.prototype.appendFromText=function(a,t,e,i,n){return this._uploadBlobFromText(!1,a,t,k.BlobTypes.APPEND,e,i,n)},i.prototype.appendBlockFromStream=function(a,t,e,i,n,o){var p;g.normalizeArgs(n,o,function(a,t){p=a,o=t}),h.validateArgs("appendBlockFromStream",function(n){n.string(a,"container"),n.string(t,"blob"),n.containerNameIsValid(a),n.exists(e,"readStream"),n.value(i,"streamLength"),n.callback(o)});var l=d(!0,{},p);if(i>k.MAX_APPEND_BLOB_BLOCK_SIZE)throw new RangeError(b.INVALID_STREAM_LENGTH);this._appendBlock(a,t,null,e,i,l,o)},i.prototype.appendBlockFromText=function(a,t,i,n,o){var p;g.normalizeArgs(n,o,function(a,t){p=a,o=t}),h.validateArgs("appendBlockFromText",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.callback(o)});var l=d(!0,{},p),r=e.isBuffer(i)?i.length:e.byteLength(i);if(r>k.MAX_APPEND_BLOB_BLOCK_SIZE)throw new RangeError(b.INVALID_TEXT_LENGTH);this._appendBlock(a,t,i,null,r,l,o)},i.prototype._createBlobFromLocalFile=function(a,t,e,i,n,p){var l;g.normalizeArgs(n,p,function(a,t){l=a,p=t}),h.validateArgs("_createBlobFromLocalFile",function(n){n.string(a,"container"),n.string(t,"blob"),n.containerNameIsValid(a),n.blobTypeIsValid(e),n.string(i,"localFileName"),n.callback(p)});var r=d(!0,{},l);r.speedSummary=r.speedSummary||new A(t);var c=this,m=0,u=function(n,o,l){if(n)p(n,o,l);else{void 0===g.tryGetValueChain(r,["contentSettings","contentType"],void 0)&&g.setObjectInnerPropertyValue(r,["contentSettings","contentType"],s.lookup(i));var d=new C(i,{calcContentMd5:r.storeBlobContentMD5}),u=function(a,t,e){g.objectIsFunction(d.destroy)&&d.destroy(),p(a,t,e)};c._uploadBlobFromStream(!0,a,t,e,d,m,r,u)}};return o.stat(i,function(i,n){i?p(i):(m=n.size,c._createBlob(a,t,e,m,r,u))}),r.speedSummary},i.prototype._createBlobFromStream=function(a,t,e,i,n,o,p){var l;g.normalizeArgs(o,p,function(a,t){l=a,p=t}),h.validateArgs("_createBlobFromStream",function(o){o.string(a,"container"),o.string(t,"blob"),o.containerNameIsValid(a),o.blobTypeIsValid(e),o.exists(i,"stream"),o.value(n,"streamLength"),o.callback(p)});var r=d(!0,{},l),s=this,c=function(o,l,c){o?p(o,l,c):s._uploadBlobFromStream(!0,a,t,e,i,n,r,p)};return this._createBlob(a,t,e,n,r,c),r.speedSummary},i.prototype._createBlobFromText=function(a,t,i,n,o,p){var l;g.normalizeArgs(o,p,function(a,t){l=a,p=t}),h.validateArgs("_createBlobFromText",function(e){e.string(a,"container"),e.string(t,"blob"),e.containerNameIsValid(a),e.blobTypeIsValid(i),e.callback(p)});var r=d(!0,{},l),s=this,c=function(e,o,l){e?p(e,o,l):s._uploadBlobFromText(!0,a,t,i,n,r,p)},m=g.objectIsNull(n)?0:e.isBuffer(n)?n.length:e.byteLength(n);return this._createBlob(a,t,i,m,r,c),r.speedSummary},i.prototype._createWriteStreamToBlob=function(a,t,e,i,n,o,p){var l;g.normalizeArgs(o,p,function(a,t){l=a,p=t}),h.validateArgs("_createWriteStreamToBlob",function(i){i.string(a,"container"),i.string(t,"blob"),i.containerNameIsValid(a),i.blobTypeIsValid(e)});var r,s=d(!0,{},l);e===k.BlobTypes.BLOCK?(s.storeBlobContentMD5=s.storeBlobContentMD5!==!1,r=s.blockSize||k.DEFAULT_WRITE_BLOCK_SIZE_IN_BYTES):e==k.BlobTypes.PAGE?r=k.DEFAULT_WRITE_PAGE_SIZE_IN_BYTES:e==k.BlobTypes.APPEND&&(r=k.DEFAULT_WRITE_BLOCK_SIZE_IN_BYTES);var c=new R({calcContentMd5:s.storeBlobContentMD5});c._highWaterMark=r,c.pause();var m=this,u=function(i,o,l){i?p&&p(i,o,l):m._uploadBlobFromStream(n,a,t,e,c,null,s,function(a,t,e){a&&c.emit("error",a),p&&p(a,t,e)})};return n===!0?this._createBlob(a,t,e,i,s,u):u(),c},i.prototype._uploadBlobFromStream=function(a,t,e,i,n,o,p,l){var r;g.normalizeArgs(p,l,function(a,t){r=a,l=t}),r.speedSummary=r.speedSummary||new A(e),i===k.BlobTypes.BLOCK&&(r.storeBlobContentMD5=r.storeBlobContentMD5!==!1),n.pause();var s=this,c=function(){var a=function(){var a=function(a,t,e){a?l(a,t,e):l(a,t,e)};o>0&&g.objectIsNull(g.tryGetValueChain(r,["contentSettings","contentMD5"],null))&&r.storeBlobContentMD5?(g.calculateMD5(n,Math.min(s.singleBlobPutThresholdInBytes,o),r,function(i,n){g.setObjectInnerPropertyValue(r,["contentSettings","contentMD5"],n),s._putBlockBlob(t,e,i,null,i.length,r,a)}),n.resume()):s._putBlockBlob(t,e,null,n,o,r,a)};if(null===o||o>=s.singleBlobPutThresholdInBytes||i!==k.BlobTypes.BLOCK){var p=new N(n,{calcContentMd5:r.storeBlobContentMD5});s._uploadContentFromChunkStream(t,e,i,p,o,r,l)}else a()};if(a)c();else{if(r.storeBlobContentMD5&&i!==k.BlobTypes.BLOCK)throw new Error(b.MD5_NOT_POSSIBLE);i===k.BlobTypes.APPEND||r.accessConditions?this.getBlobProperties(t,e,r,function(a,t,e){!a||r.accessConditions&&"*"===r.accessConditions.EtagNonMatch&&400===e.statusCode?(i===k.BlobTypes.APPEND&&(r.appendPosition=t.contentLength),c()):l(a)}):c()}return r.speedSummary},i.prototype._uploadBlobFromText=function(a,t,i,n,o,p,l){var r;g.normalizeArgs(p,l,function(a,t){r=a,l=t}),r.speedSummary=r.speedSummary||new A(i),r[_.CONTENT_TYPE]=r.contentSettings&&r.contentSettings.contentType||'text/plain;charset="utf-8"';var s=this,c=function(){var a,p=g.objectIsNull(o)?0:e.isBuffer(o)?o.length:e.byteLength(o);if(n===k.BlobTypes.BLOCK){if(r.storeBlobContentMD5=r.storeBlobContentMD5!==!1,a=s._putBlockBlob,p>k.MAX_SINGLE_UPLOAD_BLOB_SIZE_IN_BYTES)throw new RangeError(b.INVALID_BLOB_LENGTH)}else if(n===k.BlobTypes.APPEND&&(a=s._appendBlock,p>k.MAX_APPEND_BLOB_BLOCK_SIZE))throw new RangeError(b.INVALID_TEXT_LENGTH);var c=function(a,e,o){n!==k.BlobTypes.BLOCK?s.setBlobProperties(t,i,r.contentSettings,function(a,t,i){t=d(!1,t,e),l(a,t,i)}):l(a,e,o)};a.call(s,t,i,o,null,p,r,c)};if(a)!g.objectIsNull(o)&&g.objectIsNull(g.tryGetValueChain(r,["contentSettings","contentMD5"],null))&&r.storeBlobContentMD5&&g.setObjectInnerPropertyValue(r,["contentSettings","contentMD5"],g.getContentMd5(o)),c();else{if(r.storeBlobContentMD5&&n!==k.BlobTypes.BLOCK)throw new Error(b.MD5_NOT_POSSIBLE);(n===k.BlobTypes.APPEND||r.accessConditions)&&this.getBlobProperties(t,i,r,function(a,t){a?l(a):(n===k.BlobTypes.APPEND&&(r.appendPosition=t.contentLength),c())})}},i.prototype._putBlockBlob=function(a,t,e,i,o,p,l){p.speedSummary||(p.speedSummary=new A(t));var r=p.speedSummary;r.totalSize=o;var s=n(a,t),c=w.put(s).withHeader(_.CONTENT_TYPE,"application/octet-stream").withHeader(_.BLOB_TYPE,k.BlobTypes.BLOCK).withHeader(_.CONTENT_LENGTH,o);!g.objectIsNull(e)&&g.objectIsNull(p.transactionalContentMD5)&&p.useTransactionalMD5&&(p.transactionalContentMD5=g.getContentMd5(e)),M.setHeadersFromBlob(c,p);var d=function(e,i){e.blobResult=null,e.error||(e.blobResult=new M(a,t),e.blobResult.getPropertiesFromHeaders(e.response.headers),p.metadata&&(e.blobResult.metadata=p.metadata));var n=function(a){a&&a.error||r.increment(o),l(a.error,a.blobResult,a.response)};i(e,n)};return g.objectIsNull(e)?this.performRequestOutputStream(c,i,p,d):this.performRequest(c,e,p,d),p.speedSummary},i.prototype._appendBlock=function(a,t,e,i,o,p,l){var r=p.speedSummary||new A(t);r.totalSize=o;var s=this,c=function(){var c=n(a,t),d=w.put(c).withQueryOption(S.COMP,"appendblock").withHeader(_.CONTENT_LENGTH,o).withHeader(_.BLOB_CONDITION_MAX_SIZE,p.maxBlobSize).withHeader(_.BLOB_CONDITION_APPEND_POSITION,p.appendPosition);M.setHeadersFromBlob(d,p);var m=function(e,i){e.blobResult=null,e.error||(e.blobResult=new M(a,t),e.blobResult.getPropertiesFromHeaders(e.response.headers));var n=function(a){a&&a.error||r.increment(o),l(a.error,a.blobResult,a.response)};i(e,n)};g.objectIsNull(e)?s.performRequestOutputStream(d,i,p,m):s.performRequest(d,e,p,m)};return g.objectIsNull(p.transactionalContentMD5)&&p.useTransactionalMD5?g.objectIsNull(e)?g.calculateMD5(i,o,p,function(a,t){p.transactionalContentMD5=t,e=a,o=a.length,c()}):(p.transactionalContentMD5=g.getContentMd5(e),c()):c(),p.speedSummary},i.prototype._leaseImpl=function(a,t,e,i,o,p){var l;if(g.objectIsNull(t))l=w.put(a).withQueryOption(S.RESTYPE,"container");else{h.validateArgs("_leaseImpl",function(a){a.string(t,"blob")});var r=n(a,t);l=w.put(r)}l.withQueryOption(S.COMP,"lease").withHeader(_.LEASE_ID,e).withHeader(_.LEASE_ACTION,i.toLowerCase()).withHeader(_.LEASE_BREAK_PERIOD,o.leaseBreakPeriod).withHeader(_.PROPOSED_LEASE_ID,o.proposedLeaseId).withHeader(_.LEASE_DURATION,o.leaseDuration);var s=function(e,i){e.leaseResult=null,e.error||(e.leaseResult=new z(a,t),e.leaseResult.getPropertiesFromHeaders(e.response.headers));var n=function(a){p(a.error,a.leaseResult,a.response)};i(e,n)};this.performRequest(l,null,o,s)},i.prototype._createPages=function(a,t,e,i,n,o,p,l){var r=this._updatePageBlobPagesImpl(a,t,n,o,k.PageWriteOptions.UPDATE,p);!g.objectIsNull(e)&&g.objectIsNull(p.transactionalContentMD5)&&p.useTransactionalMD5&&r.withHeader(_.CONTENT_MD5,g.getContentMd5(e));var s=function(e,i){e.blobResult=null,e.error||(e.blobResult=new M(a,t),e.blobResult.getPropertiesFromHeaders(e.response.headers));var n=function(a){l(a.error,a.blobResult,a.response)};i(e,n)};g.objectIsNull(e)?this.performRequestOutputStream(r,i,p,s):this.performRequest(r,e,p,s)},i.prototype._updatePageBlobPagesImpl=function(a,t,e,i,o,p){if(e&&e%k.PAGE_SIZE!==0)throw new RangeError(b.INVALID_PAGE_START_OFFSET);if(i&&(i+1)%k.PAGE_SIZE!==0)throw new RangeError(b.INVALID_PAGE_END_OFFSET);p||(p={}),p.rangeStart=e,p.rangeEnd=i,p.contentLength=o===k.PageWriteOptions.UPDATE?i-e+1:0;var l=n(a,t),r=w.put(l).withQueryOption(S.COMP,"page").withHeader(_.CONTENT_TYPE,"application/octet-stream").withHeader(_.PAGE_WRITE,o);return M.setHeadersFromBlob(r,p),r},i.prototype._uploadContentFromChunkStream=function(t,e,i,n,o,p,l){this.logger.debug(r.format("_uploadContentFromChunkStream for blob %s",e));var s,c,m,u,v,f=g.tryGetValueChain(p,["contentSettings","contentMD5"],null),x=p.parallelOperationThreadCount||this.parallelOperationThreadCount;if(i==k.BlobTypes.BLOCK){s="createBlockFromText",c=!0;var h=Math.ceil(o/5e4);if(p.blockSize){if(p.blockSize<h){var y=new j("options.blockSize",r.format("The minimum blockSize is %s and the provided blockSize %s is too small.",h,p.blockSize));return void l(y)}v=p.blockSize}else v=Math.max(h,k.DEFAULT_WRITE_BLOCK_SIZE_IN_BYTES)}else if(i==k.BlobTypes.PAGE)s="_createPages",m=!0,v=k.DEFAULT_WRITE_PAGE_SIZE_IN_BYTES;else{if(i!=k.BlobTypes.APPEND){var y=new j("blobType",r.format("Unknown blob type %s",i));return void l(y)}s="appendBlockFromText",u=!0,x=1,v=k.DEFAULT_WRITE_BLOCK_SIZE_IN_BYTES}n._highWaterMark=v,this._setOperationExpiryTime(p);var w=p.speedSummary||new A(e);w.totalSize=o;var E=new I(v,x,{logger:this.logger});n.setOutputLength(o),n._stream&&n._stream.setMemoryAllocator&&n._stream.setMemoryAllocator(E);var _=new T(s,{callInOrder:u,callbackInOrder:u,logger:this.logger});_.setConcurrency(x);var S={leaseId:p.leaseId,timeoutIntervalInMs:p.timeoutIntervalInMs,clientRequestTimeoutInMs:p.clientRequestTimeoutInMs,operationExpiryTime:p.operationExpiryTime,maxBlobSize:p.maxBlobSize,appendPosition:p.appendPosition||0,initialAppendPosition:p.appendPosition||0,absorbConditionalErrorsOnRetry:p.absorbConditionalErrorsOnRetry},B=p.blockIdPrefix||this.generateBlockIdPrefix(),R=0,N=[],C={},O=this;return n.on("data",function(i,l){var d=null,f=!1,x=w.getAutoIncrementFunction(i.length);if(i.length>v)throw new RangeError(r.format(b.EXCEEDED_SIZE_LIMITATION,v,i.length));if(p.useTransactionalMD5){var h=g.getContentMd5(i);S.transactionalContentMD5=h}var y=function(){return!o||(l.start>=o?(O.logger.debug(r.format("Stop uploading data from %s bytes to %s bytes to blob %s because of limit %s",l.start,l.end,e,o)),n.stop(),!1):(l.end>=o&&(O.logger.debug(r.format("Clip uploading data from %s bytes to %s bytes to blob %s because of limit %s",l.start,l.end,e,o)),l.end=o-1,i=i.slice(0,o-l.start),p.useTransactionalMD5&&(S.transactionalContentMD5=g.getContentMd5(i))),!0))},k=function(){if(y()){var a=O.getBlockId(B,R);N.push(a),d=new T.RestOperation(O,s,a,t,e,i,S,function(a){a||x(),E.releaseBuffer(i),i=null}),R++}},A=function(){y()&&(g.isBufferAllZero(i)?(O.logger.debug(r.format("Skip upload data from %s bytes to %s bytes to blob %s",l.start,l.end,e)),w.increment(i.length)):(O.logger.debug(r.format("Upload data from %s bytes to %s bytes to blob %s",l.start,l.end,e)),d=new T.RestOperation(O,s,t,e,i,null,l.start,l.end,S,function(t){t?O.logger.debug(r.format("Error: %s",a("util").inspect(t))):x(),E.releaseBuffer(i),i=null})))},I=function(){if(y()){if(S.appendPosition=Number(S.initialAppendPosition)+Number(l.start),p.maxBlobSize&&S.appendPosition+i.length>p.maxBlobSize)throw new Error(b.MAX_BLOB_SIZE_CONDITION_NOT_MEET);d=new T.RestOperation(O,s,t,e,i,S,function(a,t){a||x(),C=t,E.releaseBuffer(i),i=null})}};c?k():u?I():m&&A(),d&&(f=_.addOperation(d),d=null,f&&(O.logger.debug("File stream paused"),n.pause()))}),n.on("end",function(){O.logger.debug(r.format("File read stream ended for blob %s",e)),_.enableComplete()}),_.on("drain",function(){O.logger.debug("file stream resume"),n.resume()}),_.on("end",function(a){if(O.logger.debug("batch operations commited"),w=null,a)return void l(a);if(f)p.contentSettings.contentMD5=f;else if(p.storeBlobContentMD5){var i=n.getContentMd5("base64");g.setObjectInnerPropertyValue(p,["contentSettings","contentMD5"],i)}if(c){var o={UncommittedBlocks:N};O.commitBlocks(t,e,o,p,function(a,t,i){O.logger.debug(r.format("Blob %s committed",e)),a?(n.finish(),l(a)):(C.commmittedBlocks=N,n.finish(),l(a,C,i))})}else{var s=p.contentSettings;O.setBlobProperties(t,e,s,function(a,t,e){n.finish(),t=d(!1,t,C),l(a,t,e)})}}),w},i.prototype._doesContainerExist=function(a,t,e,i){var n=w.head(a).withQueryOption(S.RESTYPE,"container").withHeader(_.LEASE_ID,e.leaseId);t===!1&&(e.requestLocationMode=B.PRIMARY_OR_SECONDARY);var o=function(t,e){t.containerResult=new D(a),t.error?t.error&&t.error.statusCode===E.HttpConstants.HttpResponseCodes.NotFound&&(t.error=null,t.containerResult.exists=!1,t.response.isSuccessful=!0):(t.containerResult.exists=!0,t.containerResult.getPropertiesFromHeaders(t.response.headers));var n=function(a){i(a.error,a.containerResult,a.response)};e(t,n)};this.performRequest(n,null,e,o)},i.prototype._doesBlobExist=function(a,t,e,i,o){var p=n(a,t),l=w.head(p).withHeader(_.LEASE_ID,i.leaseId);e===!1&&(i.requestLocationMode=B.PRIMARY_OR_SECONDARY);var r=function(e,i){e.blobResult=new M(a,t),e.error?e.error&&e.error.statusCode===E.HttpConstants.HttpResponseCodes.NotFound&&(e.error=null,e.blobResult.exists=!1,e.response.isSuccessful=!0):(e.blobResult.exists=!0,e.blobResult.getPropertiesFromHeaders(e.response.headers));var n=function(a){o(a.error,a.blobResult,a.response)};i(e,n)};this.performRequest(l,null,i,r)},i.prototype._setBlobPropertiesHelper=function(a){var t=function(t,e){t.blobResult=null,t.error||(t.blobResult=new M(a.container,a.blob),t.blobResult.getPropertiesFromHeaders(t.response.headers));var i=function(t){a.callback(t.error,t.blobResult,t.response)};e(t,i)};this.performRequest(a.webResource,null,a.options,t)},i.prototype._validateLengthAndMD5=function(a,t){var i,n=t.response.headers[E.HeaderConstants.CONTENT_MD5];g.objectIsNull(t.response.headers[E.HeaderConstants.CONTENT_LENGTH])||(i=parseInt(t.response.headers[E.HeaderConstants.CONTENT_LENGTH],10)),g.objectIsNull(a.disableContentMD5Validation)&&(a.disableContentMD5Validation=!1),a.disableContentMD5Validation===!1&&a.useTransactionalMD5===!0&&g.objectIsNull(n)&&(t.error=new V(b.MD5_NOT_PRESENT_ERROR),t.retryable=!1),g.objectIsNull(t.length)&&("string"==typeof t.response.body?t.length=e.byteLength(t.response.body):e.isBuffer(t.response.body)&&(t.length=t.response.body.length)),g.objectIsNull(i)||t.length===i||(t.error=new Error(b.CONTENT_LENGTH_MISMATCH),t.retryable=!1),a.disableContentMD5Validation===!1&&g.objectIsNull(t.contentMD5)&&(t.contentMD5=g.getContentMd5(t.response.body)),a.disableContentMD5Validation!==!1||g.objectIsNull(n)||n===t.contentMD5||(t.error=new Error(r.format(b.HASH_MISMATCH,n,t.contentMD5)),t.retryable=!1)},i.prototype._setRangeContentMD5Header=function(a,t){if(!g.objectIsNull(t.rangeStart)&&t.useTransactionalMD5){if(g.objectIsNull(t.rangeEnd))throw new q("options.rangeEndHeader",r.format(b.ARGUMENT_NULL_OR_EMPTY,t.rangeEndHeader));var e=parseInt(t.rangeEnd,10)-parseInt(t.rangeStart,10)+1;if(e>k.MAX_RANGE_GET_SIZE_WITH_MD5)throw new j("options",b.INVALID_RANGE_FOR_MD5);a.withHeader(_.RANGE_GET_CONTENT_MD5,"true")}},i.prototype._getBlobToRangeStream=function(a,t,e,i,n,o){var p;g.normalizeArgs(n,o,function(a,t){p=a,o=t}),h.validateArgs("_getBlobToRangeStream",function(i){i.string(a,"container"),i.string(t,"blob"),i.containerNameIsValid(a),i.blobNameIsValid(a,t),i.blobTypeIsValid(e),i.callback(o)});var l=null,s=!0;e==k.BlobTypes.PAGE?l=new f(this,a,t,p):e==k.BlobTypes.APPEND?(l=new x(this,a,t,p),s=!1):e==k.BlobTypes.BLOCK&&(l=new u(this,a,t,p),s=!1),p.speedSummary||(p.speedSummary=new A(t));var c=p.speedSummary,d=p.parallelOperationThreadCount||this.parallelOperationThreadCount,m=new T("getBlobInRanges",{callbackInOrder:!0,logger:this.logger});m.setConcurrency(d);var b=this,y=!p.disableContentMD5Validation,w=null;y&&(w=(new v).createMd5Hash());var E=null,_=null;l.on("range",function(e){c.totalSize||(c.totalSize=l.rangeSize);var n={rangeStart:e.start,rangeEnd:e.end,responseEncoding:null},o=e.size;if(n.timeoutIntervalInMs=p.timeoutIntervalInMs,n.clientRequestTimeoutInMs=p.clientRequestTimeoutInMs,n.useTransactionalMD5=p.useTransactionalMD5,0!==e.dataSize){if(!(e.start>e.end)){var d=new T.RestOperation(b,"getBlobToText",a,t,n,function(a,t,e,n){if(!a){o!==t.length&&b.logger.warn(r.format("Request %s bytes, but server returns %s bytes",o,t.length)),E||(E=e),_||(_=n);var p=c.getAutoIncrementFunction(t.length),l=i.write(t,p);l||(b.logger.debug("Write stream is full and pause batch operation"),m.pause()),w&&w.update(t),t=null}}),u=m.addOperation(d);u&&(b.logger.debug("Pause range stream"),l.pause())}}else if(s){var v=c.getAutoIncrementFunction(o),f=new T.CommonOperation(T.noOperation,function(a){if(!a){var t=g.writeZerosToStream(i,o,w,v);b.logger.debug(r.format("Write %s bytes Zero from %s to %s",o,e.start,e.end)),t||(b.logger.debug("Write stream is full and pause batch operation"),m.pause())}});m.addOperation(f)}else b.logger.debug(r.format("Can not read %s bytes to %s bytes of blob %s",e.start,e.end,t))}),l.on("end",function(){b.logger.debug("Range stream has ended."),m.enableComplete()}),m.on("drain",function(){b.logger.debug("Resume range stream"),l.resume()}),i.on("drain",function(){b.logger.debug("Resume batch operations"),m.resume()}),m.on("end",function(a){return b.logger.debug("Download completed!"),a?void o(a):void i.end(function(){b.logger.debug("Write stream has ended"),i.close&&i.close(),E||(E={}),g.setObjectInnerPropertyValue(E,["contentSettings","contentMD5"],g.tryGetValueChain(p,["contentSettings","contentMD5"],null)),E.clientSideContentMD5=null,w&&(E.clientSideContentMD5=w.digest("base64")),o(a,E,_)})});var S={timeoutIntervalInMs:p.timeoutIntervalInMs,clientRequestTimeoutInMs:p.clientRequestTimeoutInMs,snapshotId:p.snapshotId,leaseId:p.leaseId,blockListFilter:F.BlockListFilter.COMMITTED};return l.list(S,function(a){o(a)}),c},i.prototype._getBlobToStream=function(a,t,e,i,o){var p;g.normalizeArgs(i,o,function(a,t){p=a,o=t});var l=n(a,t),r=w.get(l).withRawResponse(),s=d(!0,{},p);r.withQueryOption(S.SNAPSHOT,s.snapshotId),M.setHeadersFromBlob(r,s),this._setRangeContentMD5Header(r,s);var c=this,m=function(e,i){e.blobResult=null,e.error||(e.blobResult=new M(a,t),e.blobResult.metadata=c.parseMetadataHeaders(e.response.headers),e.blobResult.getPropertiesFromHeaders(e.response.headers),c._validateLengthAndMD5(s,e));var n=function(a){o(a.error,a.blobResult,a.response)};i(e,n)};this.performRequestInputStream(r,null,e,s,m)},i.prototype._getBlobToLocalFile=function(a,t,e,i,n){var p;g.normalizeArgs(i,n,function(a,t){p=a,n=t}),p.speedSummary=p.speedSummary||new A(t);var l=o.createWriteStream(e,{highWaterMark:k.MAX_QUEUED_WRITE_DISK_BUFFER_SIZE});return this.getBlobToStream(a,t,l,p,function(a,t,i){return a&&g.pathExistsSync(e)?(l.close&&l.close(),void o.unlink(e,function(){n(a,t,i)})):void n(a,t,i)}),p.speedSummary},i.prototype._listBlobsOrDircotriesSegmentedWithPrefix=function(a,t,e,i,n,o){var p;g.normalizeArgs(n,o,function(a,t){p=a,o=t}),h.validateArgs("listBlobsSegmented",function(t){t.string(a,"container"),t.containerNameIsValid(a),t.callback(o)});var l=d(!0,{},p),r=w.get(a).withQueryOption(S.RESTYPE,"container").withQueryOption(S.COMP,"list").withQueryOption(S.MAX_RESULTS,l.maxResults).withQueryOptions(l,S.DELIMITER,S.INCLUDE);g.objectIsNull(e)||r.withQueryOption(S.MARKER,e.nextMarker),r.withQueryOption(S.PREFIX,t),l.requestLocationMode=g.getNextListingLocationMode(e);var s=function(a,t){if(a.listBlobsResult=null,!a.error){a.listBlobsResult={entries:null,continuationToken:null},a.listBlobsResult.entries=[];var e=[];i==k.ListBlobTypes.Directory&&a.response.body.EnumerationResults.Blobs.BlobPrefix?(e=a.response.body.EnumerationResults.Blobs.BlobPrefix,c.isArray(e)||(e=[e])):i==k.ListBlobTypes.Blob&&a.response.body.EnumerationResults.Blobs.Blob&&(e=a.response.body.EnumerationResults.Blobs.Blob,c.isArray(e)||(e=[e])),e.forEach(function(t){var e=M.parse(t);a.listBlobsResult.entries.push(e)}),a.response.body.EnumerationResults.NextMarker&&(a.listBlobsResult.continuationToken={nextMarker:null,targetLocation:null},a.listBlobsResult.continuationToken.nextMarker=a.response.body.EnumerationResults.NextMarker,a.listBlobsResult.continuationToken.targetLocation=a.targetLocation)}var n=function(a){o(a.error,a.listBlobsResult,a.response)};t(a,n)};this.performRequest(r,null,l,s)},i.prototype._createBlob=function(a,t,e,i,n,o){e==k.BlobTypes.APPEND?this.createOrReplaceAppendBlob(a,t,n,function(a,t){o(a,null,t)}):e==k.BlobTypes.PAGE?this.createPageBlob(a,t,i,n,function(a){o(a)}):e==k.BlobTypes.BLOCK&&o()},i.SpeedSummary=A,t.exports=i}).call(this,a("buffer").Buffer)},{"../../common/errors/errors":7,"./../../common/common":5,"./../../common/md5-wrapper":12,"./../../common/streams/rangestream":27,"./blobutilities":40,"./internal/blockrangestream":41,"./internal/pagerangestream":42,"./models/blobresult":43,"./models/blocklistresult":44,"./models/containerresult":45,"./models/leaseresult":46,"browserify-mime":181,buffer:"buffer",extend:431,fs:69,querystring:404,underscore:577,url:424,util:"util"}],181:[function(a,t,e){"use strict";var i=t.exports={lookup:function(a,t){var e=a.replace(/.*[\.\/]/,"").toLowerCase();return this.types[e]||t||this.default_type},default_type:"application/octet-stream",types:{123:"application/vnd.lotus-1-2-3",ez:"application/andrew-inset",aw:"application/applixware",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomsvc:"application/atomsvc+xml",ccxml:"application/ccxml+xml",cdmia:"application/cdmi-capability",cdmic:"application/cdmi-container",cdmid:"application/cdmi-domain",cdmio:"application/cdmi-object",cdmiq:"application/cdmi-queue",cu:"application/cu-seeme",davmount:"application/davmount+xml",dbk:"application/docbook+xml",dssc:"application/dssc+der",xdssc:"application/dssc+xml",ecma:"application/ecmascript",emma:"application/emma+xml",epub:"application/epub+zip",exi:"application/exi",pfr:"application/font-tdpfr",gml:"application/gml+xml",gpx:"application/gpx+xml",gxf:"application/gxf",stk:"application/hyperstudio",ink:"application/inkml+xml",inkml:"application/inkml+xml",ipfix:"application/ipfix",jar:"application/java-archive",ser:"application/java-serialized-object",class:"application/java-vm",js:"application/javascript",json:"application/json",jsonml:"application/jsonml+json",lostxml:"application/lost+xml",hqx:"application/mac-binhex40",cpt:"application/mac-compactpro",mads:"application/mads+xml",mrc:"application/marc",mrcx:"application/marcxml+xml",ma:"application/mathematica",nb:"application/mathematica",mb:"application/mathematica",mathml:"application/mathml+xml",mbox:"application/mbox",mscml:"application/mediaservercontrol+xml",metalink:"application/metalink+xml",meta4:"application/metalink4+xml",mets:"application/mets+xml",mods:"application/mods+xml",m21:"application/mp21",mp21:"application/mp21",mp4s:"application/mp4",doc:"application/msword",dot:"application/msword",mxf:"application/mxf",bin:"application/octet-stream",dms:"application/octet-stream",lrf:"application/octet-stream",mar:"application/octet-stream",so:"application/octet-stream",dist:"application/octet-stream",distz:"application/octet-stream",pkg:"application/octet-stream",bpk:"application/octet-stream",dump:"application/octet-stream",elc:"application/octet-stream",deploy:"application/octet-stream",oda:"application/oda",opf:"application/oebps-package+xml",ogx:"application/ogg",omdoc:"application/omdoc+xml",onetoc:"application/onenote",onetoc2:"application/onenote",onetmp:"application/onenote",onepkg:"application/onenote",oxps:"application/oxps",xer:"application/patch-ops-error+xml",pdf:"application/pdf",pgp:"application/pgp-encrypted",asc:"application/pgp-signature",sig:"application/pgp-signature",prf:"application/pics-rules",p10:"application/pkcs10",p7m:"application/pkcs7-mime",p7c:"application/pkcs7-mime",p7s:"application/pkcs7-signature",p8:"application/pkcs8",ac:"application/pkix-attr-cert",cer:"application/pkix-cert",crl:"application/pkix-crl",pkipath:"application/pkix-pkipath",pki:"application/pkixcmp",pls:"application/pls+xml",ai:"application/postscript",eps:"application/postscript",ps:"application/postscript",cww:"application/prs.cww",pskcxml:"application/pskc+xml",rdf:"application/rdf+xml",rif:"application/reginfo+xml",rnc:"application/relax-ng-compact-syntax",rl:"application/resource-lists+xml",rld:"application/resource-lists-diff+xml",rs:"application/rls-services+xml",gbr:"application/rpki-ghostbusters",mft:"application/rpki-manifest",roa:"application/rpki-roa",rsd:"application/rsd+xml",rss:"application/rss+xml",rtf:"application/rtf",sbml:"application/sbml+xml",scq:"application/scvp-cv-request",scs:"application/scvp-cv-response",spq:"application/scvp-vp-request",spp:"application/scvp-vp-response",sdp:"application/sdp",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation",shf:"application/shf+xml",smi:"application/smil+xml",smil:"application/smil+xml",rq:"application/sparql-query",srx:"application/sparql-results+xml",gram:"application/srgs",grxml:"application/srgs+xml",sru:"application/sru+xml",ssdl:"application/ssdl+xml",ssml:"application/ssml+xml",tei:"application/tei+xml",teicorpus:"application/tei+xml",tfi:"application/thraud+xml",tsd:"application/timestamped-data",plb:"application/vnd.3gpp.pic-bw-large",psb:"application/vnd.3gpp.pic-bw-small",pvb:"application/vnd.3gpp.pic-bw-var",tcap:"application/vnd.3gpp2.tcap",pwn:"application/vnd.3m.post-it-notes",aso:"application/vnd.accpac.simply.aso",imp:"application/vnd.accpac.simply.imp",acu:"application/vnd.acucobol",atc:"application/vnd.acucorp",acutc:"application/vnd.acucorp",air:"application/vnd.adobe.air-application-installer-package+zip",fcdt:"application/vnd.adobe.formscentral.fcdt",fxp:"application/vnd.adobe.fxp",fxpl:"application/vnd.adobe.fxp",xdp:"application/vnd.adobe.xdp+xml",xfdf:"application/vnd.adobe.xfdf",ahead:"application/vnd.ahead.space",azf:"application/vnd.airzip.filesecure.azf",azs:"application/vnd.airzip.filesecure.azs",azw:"application/vnd.amazon.ebook",acc:"application/vnd.americandynamics.acc",ami:"application/vnd.amiga.ami",apk:"application/vnd.android.package-archive",cii:"application/vnd.anser-web-certificate-issue-initiation",fti:"application/vnd.anser-web-funds-transfer-initiation",atx:"application/vnd.antix.game-component",mpkg:"application/vnd.apple.installer+xml",m3u8:"application/vnd.apple.mpegurl",swi:"application/vnd.aristanetworks.swi",iota:"application/vnd.astraea-software.iota",aep:"application/vnd.audiograph",mpm:"application/vnd.blueice.multipass",bmi:"application/vnd.bmi",rep:"application/vnd.businessobjects",cdxml:"application/vnd.chemdraw+xml",mmd:"application/vnd.chipnuts.karaoke-mmd",cdy:"application/vnd.cinderella",cla:"application/vnd.claymore",rp9:"application/vnd.cloanto.rp9",c4g:"application/vnd.clonk.c4group",c4d:"application/vnd.clonk.c4group",c4f:"application/vnd.clonk.c4group",c4p:"application/vnd.clonk.c4group",c4u:"application/vnd.clonk.c4group",c11amc:"application/vnd.cluetrust.cartomobile-config",c11amz:"application/vnd.cluetrust.cartomobile-config-pkg",csp:"application/vnd.commonspace",cdbcmsg:"application/vnd.contact.cmsg",cmc:"application/vnd.cosmocaller",clkx:"application/vnd.crick.clicker",clkk:"application/vnd.crick.clicker.keyboard",clkp:"application/vnd.crick.clicker.palette",clkt:"application/vnd.crick.clicker.template",clkw:"application/vnd.crick.clicker.wordbank",wbs:"application/vnd.criticaltools.wbs+xml",pml:"application/vnd.ctc-posml",ppd:"application/vnd.cups-ppd",car:"application/vnd.curl.car",pcurl:"application/vnd.curl.pcurl",dart:"application/vnd.dart",rdz:"application/vnd.data-vision.rdz",uvf:"application/vnd.dece.data",uvvf:"application/vnd.dece.data",uvd:"application/vnd.dece.data",uvvd:"application/vnd.dece.data",uvt:"application/vnd.dece.ttml+xml",uvvt:"application/vnd.dece.ttml+xml",uvx:"application/vnd.dece.unspecified",uvvx:"application/vnd.dece.unspecified",uvz:"application/vnd.dece.zip",uvvz:"application/vnd.dece.zip",fe_launch:"application/vnd.denovo.fcselayout-link",dna:"application/vnd.dna",mlp:"application/vnd.dolby.mlp",dpg:"application/vnd.dpgraph",dfac:"application/vnd.dreamfactory",kpxx:"application/vnd.ds-keypoint",ait:"application/vnd.dvb.ait",svc:"application/vnd.dvb.service",geo:"application/vnd.dynageo",mag:"application/vnd.ecowin.chart",nml:"application/vnd.enliven",esf:"application/vnd.epson.esf",
msf:"application/vnd.epson.msf",qam:"application/vnd.epson.quickanime",slt:"application/vnd.epson.salt",ssf:"application/vnd.epson.ssf",es3:"application/vnd.eszigno3+xml",et3:"application/vnd.eszigno3+xml",ez2:"application/vnd.ezpix-album",ez3:"application/vnd.ezpix-package",fdf:"application/vnd.fdf",mseed:"application/vnd.fdsn.mseed",seed:"application/vnd.fdsn.seed",dataless:"application/vnd.fdsn.seed",gph:"application/vnd.flographit",ftc:"application/vnd.fluxtime.clip",fm:"application/vnd.framemaker",frame:"application/vnd.framemaker",maker:"application/vnd.framemaker",book:"application/vnd.framemaker",fnc:"application/vnd.frogans.fnc",ltf:"application/vnd.frogans.ltf",fsc:"application/vnd.fsc.weblaunch",oas:"application/vnd.fujitsu.oasys",oa2:"application/vnd.fujitsu.oasys2",oa3:"application/vnd.fujitsu.oasys3",fg5:"application/vnd.fujitsu.oasysgp",bh2:"application/vnd.fujitsu.oasysprs",ddd:"application/vnd.fujixerox.ddd",xdw:"application/vnd.fujixerox.docuworks",xbd:"application/vnd.fujixerox.docuworks.binder",fzs:"application/vnd.fuzzysheet",txd:"application/vnd.genomatix.tuxedo",ggb:"application/vnd.geogebra.file",ggt:"application/vnd.geogebra.tool",gex:"application/vnd.geometry-explorer",gre:"application/vnd.geometry-explorer",gxt:"application/vnd.geonext",g2w:"application/vnd.geoplan",g3w:"application/vnd.geospace",gmx:"application/vnd.gmx",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz",gqf:"application/vnd.grafeq",gqs:"application/vnd.grafeq",gac:"application/vnd.groove-account",ghf:"application/vnd.groove-help",gim:"application/vnd.groove-identity-message",grv:"application/vnd.groove-injector",gtm:"application/vnd.groove-tool-message",tpl:"application/vnd.groove-tool-template",vcg:"application/vnd.groove-vcard",hal:"application/vnd.hal+xml",zmm:"application/vnd.handheld-entertainment+xml",hbci:"application/vnd.hbci",les:"application/vnd.hhe.lesson-player",hpgl:"application/vnd.hp-hpgl",hpid:"application/vnd.hp-hpid",hps:"application/vnd.hp-hps",jlt:"application/vnd.hp-jlyt",pcl:"application/vnd.hp-pcl",pclxl:"application/vnd.hp-pclxl","sfd-hdstx":"application/vnd.hydrostatix.sof-data",mpy:"application/vnd.ibm.minipay",afp:"application/vnd.ibm.modcap",listafp:"application/vnd.ibm.modcap",list3820:"application/vnd.ibm.modcap",irm:"application/vnd.ibm.rights-management",sc:"application/vnd.ibm.secure-container",icc:"application/vnd.iccprofile",icm:"application/vnd.iccprofile",igl:"application/vnd.igloader",ivp:"application/vnd.immervision-ivp",ivu:"application/vnd.immervision-ivu",igm:"application/vnd.insors.igm",xpw:"application/vnd.intercon.formnet",xpx:"application/vnd.intercon.formnet",i2g:"application/vnd.intergeo",qbo:"application/vnd.intu.qbo",qfx:"application/vnd.intu.qfx",rcprofile:"application/vnd.ipunplugged.rcprofile",irp:"application/vnd.irepository.package+xml",xpr:"application/vnd.is-xpr",fcs:"application/vnd.isac.fcs",jam:"application/vnd.jam",rms:"application/vnd.jcp.javame.midlet-rms",jisp:"application/vnd.jisp",joda:"application/vnd.joost.joda-archive",ktz:"application/vnd.kahootz",ktr:"application/vnd.kahootz",karbon:"application/vnd.kde.karbon",chrt:"application/vnd.kde.kchart",kfo:"application/vnd.kde.kformula",flw:"application/vnd.kde.kivio",kon:"application/vnd.kde.kontour",kpr:"application/vnd.kde.kpresenter",kpt:"application/vnd.kde.kpresenter",ksp:"application/vnd.kde.kspread",kwd:"application/vnd.kde.kword",kwt:"application/vnd.kde.kword",htke:"application/vnd.kenameaapp",kia:"application/vnd.kidspiration",kne:"application/vnd.kinar",knp:"application/vnd.kinar",skp:"application/vnd.koan",skd:"application/vnd.koan",skt:"application/vnd.koan",skm:"application/vnd.koan",sse:"application/vnd.kodak-descriptor",lasxml:"application/vnd.las.las+xml",lbd:"application/vnd.llamagraphics.life-balance.desktop",lbe:"application/vnd.llamagraphics.life-balance.exchange+xml",apr:"application/vnd.lotus-approach",pre:"application/vnd.lotus-freelance",nsf:"application/vnd.lotus-notes",org:"application/vnd.lotus-organizer",scm:"application/vnd.lotus-screencam",lwp:"application/vnd.lotus-wordpro",portpkg:"application/vnd.macports.portpkg",mcd:"application/vnd.mcd",mc1:"application/vnd.medcalcdata",cdkey:"application/vnd.mediastation.cdkey",mwf:"application/vnd.mfer",mfm:"application/vnd.mfmp",flo:"application/vnd.micrografx.flo",igx:"application/vnd.micrografx.igx",mif:"application/vnd.mif",daf:"application/vnd.mobius.daf",dis:"application/vnd.mobius.dis",mbk:"application/vnd.mobius.mbk",mqy:"application/vnd.mobius.mqy",msl:"application/vnd.mobius.msl",plc:"application/vnd.mobius.plc",txf:"application/vnd.mobius.txf",mpn:"application/vnd.mophun.application",mpc:"application/vnd.mophun.certificate",xul:"application/vnd.mozilla.xul+xml",cil:"application/vnd.ms-artgalry",cab:"application/vnd.ms-cab-compressed",xls:"application/vnd.ms-excel",xlm:"application/vnd.ms-excel",xla:"application/vnd.ms-excel",xlc:"application/vnd.ms-excel",xlt:"application/vnd.ms-excel",xlw:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xltm:"application/vnd.ms-excel.template.macroenabled.12",eot:"application/vnd.ms-fontobject",chm:"application/vnd.ms-htmlhelp",ims:"application/vnd.ms-ims",lrm:"application/vnd.ms-lrm",thmx:"application/vnd.ms-officetheme",cat:"application/vnd.ms-pki.seccat",stl:"application/vnd.ms-pki.stl",ppt:"application/vnd.ms-powerpoint",pps:"application/vnd.ms-powerpoint",pot:"application/vnd.ms-powerpoint",ppam:"application/vnd.ms-powerpoint.addin.macroenabled.12",pptm:"application/vnd.ms-powerpoint.presentation.macroenabled.12",sldm:"application/vnd.ms-powerpoint.slide.macroenabled.12",ppsm:"application/vnd.ms-powerpoint.slideshow.macroenabled.12",potm:"application/vnd.ms-powerpoint.template.macroenabled.12",mpp:"application/vnd.ms-project",mpt:"application/vnd.ms-project",docm:"application/vnd.ms-word.document.macroenabled.12",dotm:"application/vnd.ms-word.template.macroenabled.12",wps:"application/vnd.ms-works",wks:"application/vnd.ms-works",wcm:"application/vnd.ms-works",wdb:"application/vnd.ms-works",wpl:"application/vnd.ms-wpl",xps:"application/vnd.ms-xpsdocument",mseq:"application/vnd.mseq",mus:"application/vnd.musician",msty:"application/vnd.muvee.style",taglet:"application/vnd.mynfc",nlu:"application/vnd.neurolanguage.nlu",ntf:"application/vnd.nitf",nitf:"application/vnd.nitf",nnd:"application/vnd.noblenet-directory",nns:"application/vnd.noblenet-sealer",nnw:"application/vnd.noblenet-web",ngdat:"application/vnd.nokia.n-gage.data","n-gage":"application/vnd.nokia.n-gage.symbian.install",rpst:"application/vnd.nokia.radio-preset",rpss:"application/vnd.nokia.radio-presets",edm:"application/vnd.novadigm.edm",edx:"application/vnd.novadigm.edx",ext:"application/vnd.novadigm.ext",odc:"application/vnd.oasis.opendocument.chart",otc:"application/vnd.oasis.opendocument.chart-template",odb:"application/vnd.oasis.opendocument.database",odf:"application/vnd.oasis.opendocument.formula",odft:"application/vnd.oasis.opendocument.formula-template",odg:"application/vnd.oasis.opendocument.graphics",otg:"application/vnd.oasis.opendocument.graphics-template",odi:"application/vnd.oasis.opendocument.image",oti:"application/vnd.oasis.opendocument.image-template",odp:"application/vnd.oasis.opendocument.presentation",otp:"application/vnd.oasis.opendocument.presentation-template",ods:"application/vnd.oasis.opendocument.spreadsheet",ots:"application/vnd.oasis.opendocument.spreadsheet-template",odt:"application/vnd.oasis.opendocument.text",odm:"application/vnd.oasis.opendocument.text-master",ott:"application/vnd.oasis.opendocument.text-template",oth:"application/vnd.oasis.opendocument.text-web",xo:"application/vnd.olpc-sugar",dd2:"application/vnd.oma.dd2+xml",oxt:"application/vnd.openofficeorg.extension",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",sldx:"application/vnd.openxmlformats-officedocument.presentationml.slide",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",mgp:"application/vnd.osgeo.mapguide.package",dp:"application/vnd.osgi.dp",esa:"application/vnd.osgi.subsystem",pdb:"application/vnd.palm",pqa:"application/vnd.palm",oprc:"application/vnd.palm",paw:"application/vnd.pawaafile",str:"application/vnd.pg.format",ei6:"application/vnd.pg.osasli",efif:"application/vnd.picsel",wg:"application/vnd.pmi.widget",plf:"application/vnd.pocketlearn",pbd:"application/vnd.powerbuilder6",box:"application/vnd.previewsystems.box",mgz:"application/vnd.proteus.magazine",qps:"application/vnd.publishare-delta-tree",ptid:"application/vnd.pvi.ptid1",qxd:"application/vnd.quark.quarkxpress",qxt:"application/vnd.quark.quarkxpress",qwd:"application/vnd.quark.quarkxpress",qwt:"application/vnd.quark.quarkxpress",qxl:"application/vnd.quark.quarkxpress",qxb:"application/vnd.quark.quarkxpress",bed:"application/vnd.realvnc.bed",mxl:"application/vnd.recordare.musicxml",musicxml:"application/vnd.recordare.musicxml+xml",cryptonote:"application/vnd.rig.cryptonote",cod:"application/vnd.rim.cod",rm:"application/vnd.rn-realmedia",rmvb:"application/vnd.rn-realmedia-vbr",link66:"application/vnd.route66.link66+xml",st:"application/vnd.sailingtracker.track",see:"application/vnd.seemail",sema:"application/vnd.sema",semd:"application/vnd.semd",semf:"application/vnd.semf",ifm:"application/vnd.shana.informed.formdata",itp:"application/vnd.shana.informed.formtemplate",iif:"application/vnd.shana.informed.interchange",ipk:"application/vnd.shana.informed.package",twd:"application/vnd.simtech-mindmapper",twds:"application/vnd.simtech-mindmapper",mmf:"application/vnd.smaf",teacher:"application/vnd.smart.teacher",sdkm:"application/vnd.solent.sdkm+xml",sdkd:"application/vnd.solent.sdkm+xml",dxp:"application/vnd.spotfire.dxp",sfs:"application/vnd.spotfire.sfs",sdc:"application/vnd.stardivision.calc",sda:"application/vnd.stardivision.draw",sdd:"application/vnd.stardivision.impress",smf:"application/vnd.stardivision.math",sdw:"application/vnd.stardivision.writer",vor:"application/vnd.stardivision.writer",sgl:"application/vnd.stardivision.writer-global",smzip:"application/vnd.stepmania.package",sm:"application/vnd.stepmania.stepchart",sxc:"application/vnd.sun.xml.calc",stc:"application/vnd.sun.xml.calc.template",sxd:"application/vnd.sun.xml.draw",std:"application/vnd.sun.xml.draw.template",sxi:"application/vnd.sun.xml.impress",sti:"application/vnd.sun.xml.impress.template",sxm:"application/vnd.sun.xml.math",sxw:"application/vnd.sun.xml.writer",sxg:"application/vnd.sun.xml.writer.global",stw:"application/vnd.sun.xml.writer.template",sus:"application/vnd.sus-calendar",susp:"application/vnd.sus-calendar",svd:"application/vnd.svd",sis:"application/vnd.symbian.install",sisx:"application/vnd.symbian.install",xsm:"application/vnd.syncml+xml",bdm:"application/vnd.syncml.dm+wbxml",xdm:"application/vnd.syncml.dm+xml",tao:"application/vnd.tao.intent-module-archive",pcap:"application/vnd.tcpdump.pcap",cap:"application/vnd.tcpdump.pcap",dmp:"application/vnd.tcpdump.pcap",tmo:"application/vnd.tmobile-livetv",tpt:"application/vnd.trid.tpt",mxs:"application/vnd.triscape.mxs",tra:"application/vnd.trueapp",ufd:"application/vnd.ufdl",ufdl:"application/vnd.ufdl",utz:"application/vnd.uiq.theme",umj:"application/vnd.umajin",unityweb:"application/vnd.unity",uoml:"application/vnd.uoml+xml",vcx:"application/vnd.vcx",vsd:"application/vnd.visio",vst:"application/vnd.visio",vss:"application/vnd.visio",vsw:"application/vnd.visio",vis:"application/vnd.visionary",vsf:"application/vnd.vsf",wbxml:"application/vnd.wap.wbxml",wmlc:"application/vnd.wap.wmlc",wmlsc:"application/vnd.wap.wmlscriptc",wtb:"application/vnd.webturbo",nbp:"application/vnd.wolfram.player",wpd:"application/vnd.wordperfect",wqd:"application/vnd.wqd",stf:"application/vnd.wt.stf",xar:"application/vnd.xara",xfdl:"application/vnd.xfdl",hvd:"application/vnd.yamaha.hv-dic",hvs:"application/vnd.yamaha.hv-script",hvp:"application/vnd.yamaha.hv-voice",osf:"application/vnd.yamaha.openscoreformat",osfpvg:"application/vnd.yamaha.openscoreformat.osfpvg+xml",saf:"application/vnd.yamaha.smaf-audio",spf:"application/vnd.yamaha.smaf-phrase",cmp:"application/vnd.yellowriver-custom-menu",zir:"application/vnd.zul",zirz:"application/vnd.zul",zaz:"application/vnd.zzazz.deck+xml",vxml:"application/voicexml+xml",wgt:"application/widget",hlp:"application/winhlp",wsdl:"application/wsdl+xml",wspolicy:"application/wspolicy+xml","7z":"application/x-7z-compressed",abw:"application/x-abiword",ace:"application/x-ace-compressed",dmg:"application/x-apple-diskimage",aab:"application/x-authorware-bin",x32:"application/x-authorware-bin",u32:"application/x-authorware-bin",vox:"application/x-authorware-bin",aam:"application/x-authorware-map",aas:"application/x-authorware-seg",bcpio:"application/x-bcpio",torrent:"application/x-bittorrent",blb:"application/x-blorb",blorb:"application/x-blorb",bz:"application/x-bzip",bz2:"application/x-bzip2",boz:"application/x-bzip2",cbr:"application/x-cbr",cba:"application/x-cbr",cbt:"application/x-cbr",cbz:"application/x-cbr",cb7:"application/x-cbr",vcd:"application/x-cdlink",cfs:"application/x-cfs-compressed",chat:"application/x-chat",pgn:"application/x-chess-pgn",nsc:"application/x-conference",cpio:"application/x-cpio",csh:"application/x-csh",deb:"application/x-debian-package",udeb:"application/x-debian-package",dgc:"application/x-dgc-compressed",dir:"application/x-director",dcr:"application/x-director",dxr:"application/x-director",cst:"application/x-director",cct:"application/x-director",cxt:"application/x-director",w3d:"application/x-director",fgd:"application/x-director",swa:"application/x-director",wad:"application/x-doom",ncx:"application/x-dtbncx+xml",dtb:"application/x-dtbook+xml",res:"application/x-dtbresource+xml",dvi:"application/x-dvi",evy:"application/x-envoy",eva:"application/x-eva",bdf:"application/x-font-bdf",gsf:"application/x-font-ghostscript",psf:"application/x-font-linux-psf",otf:"application/x-font-otf",pcf:"application/x-font-pcf",snf:"application/x-font-snf",ttf:"application/x-font-ttf",ttc:"application/x-font-ttf",pfa:"application/x-font-type1",pfb:"application/x-font-type1",pfm:"application/x-font-type1",afm:"application/x-font-type1",woff:"application/x-font-woff",arc:"application/x-freearc",spl:"application/x-futuresplash",gca:"application/x-gca-compressed",ulx:"application/x-glulx",gnumeric:"application/x-gnumeric",gramps:"application/x-gramps-xml",gtar:"application/x-gtar",hdf:"application/x-hdf",install:"application/x-install-instructions",iso:"application/x-iso9660-image",jnlp:"application/x-java-jnlp-file",latex:"application/x-latex",lzh:"application/x-lzh-compressed",lha:"application/x-lzh-compressed",mie:"application/x-mie",prc:"application/x-mobipocket-ebook",mobi:"application/x-mobipocket-ebook",application:"application/x-ms-application",lnk:"application/x-ms-shortcut",wmd:"application/x-ms-wmd",wmz:"application/x-msmetafile",xbap:"application/x-ms-xbap",mdb:"application/x-msaccess",obd:"application/x-msbinder",crd:"application/x-mscardfile",clp:"application/x-msclip",exe:"application/x-msdownload",dll:"application/x-msdownload",com:"application/x-msdownload",bat:"application/x-msdownload",msi:"application/x-msdownload",mvb:"application/x-msmediaview",m13:"application/x-msmediaview",m14:"application/x-msmediaview",wmf:"application/x-msmetafile",emf:"application/x-msmetafile",emz:"application/x-msmetafile",mny:"application/x-msmoney",pub:"application/x-mspublisher",scd:"application/x-msschedule",trm:"application/x-msterminal",wri:"application/x-mswrite",nc:"application/x-netcdf",cdf:"application/x-netcdf",nzb:"application/x-nzb",p12:"application/x-pkcs12",pfx:"application/x-pkcs12",p7b:"application/x-pkcs7-certificates",spc:"application/x-pkcs7-certificates",p7r:"application/x-pkcs7-certreqresp",rar:"application/x-rar-compressed",ris:"application/x-research-info-systems",sh:"application/x-sh",shar:"application/x-shar",swf:"application/x-shockwave-flash",xap:"application/x-silverlight-app",sql:"application/x-sql",sit:"application/x-stuffit",sitx:"application/x-stuffitx",srt:"application/x-subrip",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",t3:"application/x-t3vm-image",gam:"application/x-tads",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",tfm:"application/x-tex-tfm",texinfo:"application/x-texinfo",texi:"application/x-texinfo",obj:"application/x-tgif",ustar:"application/x-ustar",src:"application/x-wais-source",der:"application/x-x509-ca-cert",crt:"application/x-x509-ca-cert",fig:"application/x-xfig",xlf:"application/x-xliff+xml",xpi:"application/x-xpinstall",xz:"application/x-xz",z1:"application/x-zmachine",z2:"application/x-zmachine",z3:"application/x-zmachine",z4:"application/x-zmachine",z5:"application/x-zmachine",z6:"application/x-zmachine",z7:"application/x-zmachine",z8:"application/x-zmachine",xaml:"application/xaml+xml",xdf:"application/xcap-diff+xml",xenc:"application/xenc+xml",xhtml:"application/xhtml+xml",xht:"application/xhtml+xml",xml:"application/xml",xsl:"application/xml",dtd:"application/xml-dtd",xop:"application/xop+xml",xpl:"application/xproc+xml",xslt:"application/xslt+xml",xspf:"application/xspf+xml",mxml:"application/xv+xml",xhvml:"application/xv+xml",xvml:"application/xv+xml",xvm:"application/xv+xml",yang:"application/yang",yin:"application/yin+xml",zip:"application/zip",adp:"audio/adpcm",au:"audio/basic",snd:"audio/basic",mid:"audio/midi",midi:"audio/midi",kar:"audio/midi",rmi:"audio/midi",mp4a:"audio/mp4",mpga:"audio/mpeg",mp2:"audio/mpeg",mp2a:"audio/mpeg",mp3:"audio/mpeg",m2a:"audio/mpeg",m3a:"audio/mpeg",oga:"audio/ogg",ogg:"audio/ogg",spx:"audio/ogg",s3m:"audio/s3m",sil:"audio/silk",uva:"audio/vnd.dece.audio",uvva:"audio/vnd.dece.audio",eol:"audio/vnd.digital-winds",dra:"audio/vnd.dra",dts:"audio/vnd.dts",dtshd:"audio/vnd.dts.hd",lvp:"audio/vnd.lucent.voice",pya:"audio/vnd.ms-playready.media.pya",ecelp4800:"audio/vnd.nuera.ecelp4800",ecelp7470:"audio/vnd.nuera.ecelp7470",ecelp9600:"audio/vnd.nuera.ecelp9600",rip:"audio/vnd.rip",weba:"audio/webm",aac:"audio/x-aac",aif:"audio/x-aiff",aiff:"audio/x-aiff",aifc:"audio/x-aiff",caf:"audio/x-caf",flac:"audio/x-flac",mka:"audio/x-matroska",m3u:"audio/x-mpegurl",wax:"audio/x-ms-wax",wma:"audio/x-ms-wma",ram:"audio/x-pn-realaudio",ra:"audio/x-pn-realaudio",rmp:"audio/x-pn-realaudio-plugin",wav:"audio/x-wav",xm:"audio/xm",cdx:"chemical/x-cdx",cif:"chemical/x-cif",cmdf:"chemical/x-cmdf",cml:"chemical/x-cml",csml:"chemical/x-csml",xyz:"chemical/x-xyz",bmp:"image/bmp",cgm:"image/cgm",g3:"image/g3fax",gif:"image/gif",ief:"image/ief",jpeg:"image/jpeg",jpg:"image/jpeg",jpe:"image/jpeg",ktx:"image/ktx",png:"image/png",btif:"image/prs.btif",sgi:"image/sgi",svg:"image/svg+xml",svgz:"image/svg+xml",tiff:"image/tiff",tif:"image/tiff",psd:"image/vnd.adobe.photoshop",uvi:"image/vnd.dece.graphic",uvvi:"image/vnd.dece.graphic",uvg:"image/vnd.dece.graphic",uvvg:"image/vnd.dece.graphic",sub:"text/vnd.dvb.subtitle",djvu:"image/vnd.djvu",djv:"image/vnd.djvu",dwg:"image/vnd.dwg",dxf:"image/vnd.dxf",fbs:"image/vnd.fastbidsheet",fpx:"image/vnd.fpx",fst:"image/vnd.fst",mmr:"image/vnd.fujixerox.edmics-mmr",rlc:"image/vnd.fujixerox.edmics-rlc",mdi:"image/vnd.ms-modi",wdp:"image/vnd.ms-photo",npx:"image/vnd.net-fpx",wbmp:"image/vnd.wap.wbmp",xif:"image/vnd.xiff",webp:"image/webp","3ds":"image/x-3ds",ras:"image/x-cmu-raster",cmx:"image/x-cmx",fh:"image/x-freehand",fhc:"image/x-freehand",fh4:"image/x-freehand",fh5:"image/x-freehand",fh7:"image/x-freehand",ico:"image/x-icon",sid:"image/x-mrsid-image",pcx:"image/x-pcx",pic:"image/x-pict",pct:"image/x-pict",pnm:"image/x-portable-anymap",pbm:"image/x-portable-bitmap",pgm:"image/x-portable-graymap",ppm:"image/x-portable-pixmap",rgb:"image/x-rgb",tga:"image/x-tga",xbm:"image/x-xbitmap",xpm:"image/x-xpixmap",xwd:"image/x-xwindowdump",eml:"message/rfc822",mime:"message/rfc822",igs:"model/iges",iges:"model/iges",msh:"model/mesh",mesh:"model/mesh",silo:"model/mesh",dae:"model/vnd.collada+xml",dwf:"model/vnd.dwf",gdl:"model/vnd.gdl",gtw:"model/vnd.gtw",mts:"model/vnd.mts",vtu:"model/vnd.vtu",wrl:"model/vrml",vrml:"model/vrml",x3db:"model/x3d+binary",x3dbz:"model/x3d+binary",x3dv:"model/x3d+vrml",x3dvz:"model/x3d+vrml",x3d:"model/x3d+xml",x3dz:"model/x3d+xml",appcache:"text/cache-manifest",ics:"text/calendar",ifb:"text/calendar",css:"text/css",csv:"text/csv",html:"text/html",htm:"text/html",n3:"text/n3",txt:"text/plain",text:"text/plain",conf:"text/plain",def:"text/plain",list:"text/plain",log:"text/plain",in:"text/plain",dsc:"text/prs.lines.tag",rtx:"text/richtext",sgml:"text/sgml",sgm:"text/sgml",tsv:"text/tab-separated-values",t:"text/troff",tr:"text/troff",roff:"text/troff",man:"text/troff",me:"text/troff",ms:"text/troff",ttl:"text/turtle",uri:"text/uri-list",uris:"text/uri-list",urls:"text/uri-list",vcard:"text/vcard",curl:"text/vnd.curl",dcurl:"text/vnd.curl.dcurl",scurl:"text/vnd.curl.scurl",mcurl:"text/vnd.curl.mcurl",fly:"text/vnd.fly",flx:"text/vnd.fmi.flexstor",gv:"text/vnd.graphviz","3dml":"text/vnd.in3d.3dml",spot:"text/vnd.in3d.spot",jad:"text/vnd.sun.j2me.app-descriptor",wml:"text/vnd.wap.wml",wmls:"text/vnd.wap.wmlscript",s:"text/x-asm",asm:"text/x-asm",c:"text/x-c",cc:"text/x-c",cxx:"text/x-c",cpp:"text/x-c",h:"text/x-c",hh:"text/x-c",dic:"text/x-c",f:"text/x-fortran",for:"text/x-fortran",f77:"text/x-fortran",f90:"text/x-fortran",java:"text/x-java-source",opml:"text/x-opml",p:"text/x-pascal",pas:"text/x-pascal",nfo:"text/x-nfo",etx:"text/x-setext",sfv:"text/x-sfv",uu:"text/x-uuencode",vcs:"text/x-vcalendar",vcf:"text/x-vcard","3gp":"video/3gpp","3g2":"video/3gpp2",h261:"video/h261",h263:"video/h263",h264:"video/h264",jpgv:"video/jpeg",jpm:"video/jpm",jpgm:"video/jpm",mj2:"video/mj2",mjp2:"video/mj2",mp4:"video/mp4",mp4v:"video/mp4",mpg4:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",mpe:"video/mpeg",m1v:"video/mpeg",m2v:"video/mpeg",ogv:"video/ogg",qt:"video/quicktime",mov:"video/quicktime",uvh:"video/vnd.dece.hd",uvvh:"video/vnd.dece.hd",uvm:"video/vnd.dece.mobile",uvvm:"video/vnd.dece.mobile",uvp:"video/vnd.dece.pd",uvvp:"video/vnd.dece.pd",uvs:"video/vnd.dece.sd",uvvs:"video/vnd.dece.sd",uvv:"video/vnd.dece.video",uvvv:"video/vnd.dece.video",dvb:"video/vnd.dvb.file",fvt:"video/vnd.fvt",mxu:"video/vnd.mpegurl",m4u:"video/vnd.mpegurl",pyv:"video/vnd.ms-playready.media.pyv",uvu:"video/vnd.uvvu.mp4",uvvu:"video/vnd.uvvu.mp4",viv:"video/vnd.vivo",webm:"video/webm",f4v:"video/x-f4v",fli:"video/x-fli",flv:"video/x-flv",m4v:"video/x-m4v",mkv:"video/x-matroska",mk3d:"video/x-matroska",mks:"video/x-matroska",mng:"video/x-mng",asf:"video/x-ms-asf",asx:"video/x-ms-asf",vob:"video/x-ms-vob",wm:"video/x-ms-wm",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wvx:"video/x-ms-wvx",avi:"video/x-msvideo",movie:"video/x-sgi-movie",smv:"video/x-smv",ice:"x-conference/x-cooltalk",vtt:"text/vtt",crx:"application/x-chrome-extension",htc:"text/x-component",manifest:"text/cache-manifest",buffer:"application/octet-stream",m4p:"application/mp4",m4a:"audio/mp4",ts:"video/MP2T","event-stream":"text/event-stream",webapp:"application/x-web-app-manifest+json",lua:"text/x-lua",luac:"application/x-lua-bytecode",markdown:"text/x-markdown",md:"text/x-markdown",mkd:"text/x-markdown"},extensions:{"application/andrew-inset":"ez","application/applixware":"aw","application/atom+xml":"atom","application/atomcat+xml":"atomcat","application/atomsvc+xml":"atomsvc","application/ccxml+xml":"ccxml","application/cdmi-capability":"cdmia","application/cdmi-container":"cdmic","application/cdmi-domain":"cdmid","application/cdmi-object":"cdmio","application/cdmi-queue":"cdmiq","application/cu-seeme":"cu","application/davmount+xml":"davmount","application/docbook+xml":"dbk","application/dssc+der":"dssc","application/dssc+xml":"xdssc","application/ecmascript":"ecma","application/emma+xml":"emma","application/epub+zip":"epub","application/exi":"exi","application/font-tdpfr":"pfr","application/gml+xml":"gml","application/gpx+xml":"gpx","application/gxf":"gxf","application/hyperstudio":"stk","application/inkml+xml":"ink","application/ipfix":"ipfix","application/java-archive":"jar","application/java-serialized-object":"ser","application/java-vm":"class","application/javascript":"js","application/json":"json","application/jsonml+json":"jsonml","application/lost+xml":"lostxml","application/mac-binhex40":"hqx","application/mac-compactpro":"cpt","application/mads+xml":"mads","application/marc":"mrc","application/marcxml+xml":"mrcx","application/mathematica":"ma","application/mathml+xml":"mathml","application/mbox":"mbox","application/mediaservercontrol+xml":"mscml","application/metalink+xml":"metalink","application/metalink4+xml":"meta4","application/mets+xml":"mets","application/mods+xml":"mods","application/mp21":"m21","application/mp4":"mp4s","application/msword":"doc","application/mxf":"mxf","application/octet-stream":"bin","application/oda":"oda","application/oebps-package+xml":"opf","application/ogg":"ogx","application/omdoc+xml":"omdoc","application/onenote":"onetoc","application/oxps":"oxps","application/patch-ops-error+xml":"xer","application/pdf":"pdf","application/pgp-encrypted":"pgp","application/pgp-signature":"asc","application/pics-rules":"prf","application/pkcs10":"p10","application/pkcs7-mime":"p7m","application/pkcs7-signature":"p7s","application/pkcs8":"p8","application/pkix-attr-cert":"ac","application/pkix-cert":"cer","application/pkix-crl":"crl","application/pkix-pkipath":"pkipath","application/pkixcmp":"pki","application/pls+xml":"pls","application/postscript":"ai","application/prs.cww":"cww","application/pskc+xml":"pskcxml","application/rdf+xml":"rdf","application/reginfo+xml":"rif","application/relax-ng-compact-syntax":"rnc","application/resource-lists+xml":"rl","application/resource-lists-diff+xml":"rld","application/rls-services+xml":"rs","application/rpki-ghostbusters":"gbr","application/rpki-manifest":"mft","application/rpki-roa":"roa","application/rsd+xml":"rsd","application/rss+xml":"rss","application/rtf":"rtf","application/sbml+xml":"sbml","application/scvp-cv-request":"scq","application/scvp-cv-response":"scs","application/scvp-vp-request":"spq","application/scvp-vp-response":"spp","application/sdp":"sdp","application/set-payment-initiation":"setpay","application/set-registration-initiation":"setreg","application/shf+xml":"shf","application/smil+xml":"smi","application/sparql-query":"rq","application/sparql-results+xml":"srx","application/srgs":"gram","application/srgs+xml":"grxml","application/sru+xml":"sru","application/ssdl+xml":"ssdl","application/ssml+xml":"ssml","application/tei+xml":"tei","application/thraud+xml":"tfi","application/timestamped-data":"tsd","application/vnd.3gpp.pic-bw-large":"plb","application/vnd.3gpp.pic-bw-small":"psb","application/vnd.3gpp.pic-bw-var":"pvb","application/vnd.3gpp2.tcap":"tcap","application/vnd.3m.post-it-notes":"pwn","application/vnd.accpac.simply.aso":"aso","application/vnd.accpac.simply.imp":"imp","application/vnd.acucobol":"acu","application/vnd.acucorp":"atc","application/vnd.adobe.air-application-installer-package+zip":"air","application/vnd.adobe.formscentral.fcdt":"fcdt","application/vnd.adobe.fxp":"fxp","application/vnd.adobe.xdp+xml":"xdp","application/vnd.adobe.xfdf":"xfdf","application/vnd.ahead.space":"ahead","application/vnd.airzip.filesecure.azf":"azf","application/vnd.airzip.filesecure.azs":"azs","application/vnd.amazon.ebook":"azw","application/vnd.americandynamics.acc":"acc","application/vnd.amiga.ami":"ami","application/vnd.android.package-archive":"apk","application/vnd.anser-web-certificate-issue-initiation":"cii","application/vnd.anser-web-funds-transfer-initiation":"fti","application/vnd.antix.game-component":"atx","application/vnd.apple.installer+xml":"mpkg","application/vnd.apple.mpegurl":"m3u8","application/vnd.aristanetworks.swi":"swi","application/vnd.astraea-software.iota":"iota","application/vnd.audiograph":"aep","application/vnd.blueice.multipass":"mpm","application/vnd.bmi":"bmi","application/vnd.businessobjects":"rep","application/vnd.chemdraw+xml":"cdxml","application/vnd.chipnuts.karaoke-mmd":"mmd","application/vnd.cinderella":"cdy","application/vnd.claymore":"cla","application/vnd.cloanto.rp9":"rp9","application/vnd.clonk.c4group":"c4g","application/vnd.cluetrust.cartomobile-config":"c11amc","application/vnd.cluetrust.cartomobile-config-pkg":"c11amz","application/vnd.commonspace":"csp","application/vnd.contact.cmsg":"cdbcmsg","application/vnd.cosmocaller":"cmc","application/vnd.crick.clicker":"clkx","application/vnd.crick.clicker.keyboard":"clkk","application/vnd.crick.clicker.palette":"clkp","application/vnd.crick.clicker.template":"clkt","application/vnd.crick.clicker.wordbank":"clkw","application/vnd.criticaltools.wbs+xml":"wbs","application/vnd.ctc-posml":"pml","application/vnd.cups-ppd":"ppd","application/vnd.curl.car":"car","application/vnd.curl.pcurl":"pcurl","application/vnd.dart":"dart","application/vnd.data-vision.rdz":"rdz","application/vnd.dece.data":"uvf","application/vnd.dece.ttml+xml":"uvt","application/vnd.dece.unspecified":"uvx","application/vnd.dece.zip":"uvz","application/vnd.denovo.fcselayout-link":"fe_launch","application/vnd.dna":"dna","application/vnd.dolby.mlp":"mlp","application/vnd.dpgraph":"dpg","application/vnd.dreamfactory":"dfac","application/vnd.ds-keypoint":"kpxx","application/vnd.dvb.ait":"ait","application/vnd.dvb.service":"svc","application/vnd.dynageo":"geo","application/vnd.ecowin.chart":"mag","application/vnd.enliven":"nml","application/vnd.epson.esf":"esf","application/vnd.epson.msf":"msf","application/vnd.epson.quickanime":"qam","application/vnd.epson.salt":"slt","application/vnd.epson.ssf":"ssf","application/vnd.eszigno3+xml":"es3","application/vnd.ezpix-album":"ez2","application/vnd.ezpix-package":"ez3","application/vnd.fdf":"fdf","application/vnd.fdsn.mseed":"mseed","application/vnd.fdsn.seed":"seed","application/vnd.flographit":"gph","application/vnd.fluxtime.clip":"ftc","application/vnd.framemaker":"fm","application/vnd.frogans.fnc":"fnc","application/vnd.frogans.ltf":"ltf","application/vnd.fsc.weblaunch":"fsc","application/vnd.fujitsu.oasys":"oas","application/vnd.fujitsu.oasys2":"oa2","application/vnd.fujitsu.oasys3":"oa3","application/vnd.fujitsu.oasysgp":"fg5","application/vnd.fujitsu.oasysprs":"bh2","application/vnd.fujixerox.ddd":"ddd","application/vnd.fujixerox.docuworks":"xdw","application/vnd.fujixerox.docuworks.binder":"xbd","application/vnd.fuzzysheet":"fzs","application/vnd.genomatix.tuxedo":"txd","application/vnd.geogebra.file":"ggb","application/vnd.geogebra.tool":"ggt","application/vnd.geometry-explorer":"gex","application/vnd.geonext":"gxt","application/vnd.geoplan":"g2w","application/vnd.geospace":"g3w","application/vnd.gmx":"gmx","application/vnd.google-earth.kml+xml":"kml","application/vnd.google-earth.kmz":"kmz","application/vnd.grafeq":"gqf","application/vnd.groove-account":"gac","application/vnd.groove-help":"ghf","application/vnd.groove-identity-message":"gim","application/vnd.groove-injector":"grv","application/vnd.groove-tool-message":"gtm","application/vnd.groove-tool-template":"tpl","application/vnd.groove-vcard":"vcg","application/vnd.hal+xml":"hal","application/vnd.handheld-entertainment+xml":"zmm","application/vnd.hbci":"hbci","application/vnd.hhe.lesson-player":"les","application/vnd.hp-hpgl":"hpgl","application/vnd.hp-hpid":"hpid","application/vnd.hp-hps":"hps","application/vnd.hp-jlyt":"jlt","application/vnd.hp-pcl":"pcl",
"application/vnd.hp-pclxl":"pclxl","application/vnd.hydrostatix.sof-data":"sfd-hdstx","application/vnd.ibm.minipay":"mpy","application/vnd.ibm.modcap":"afp","application/vnd.ibm.rights-management":"irm","application/vnd.ibm.secure-container":"sc","application/vnd.iccprofile":"icc","application/vnd.igloader":"igl","application/vnd.immervision-ivp":"ivp","application/vnd.immervision-ivu":"ivu","application/vnd.insors.igm":"igm","application/vnd.intercon.formnet":"xpw","application/vnd.intergeo":"i2g","application/vnd.intu.qbo":"qbo","application/vnd.intu.qfx":"qfx","application/vnd.ipunplugged.rcprofile":"rcprofile","application/vnd.irepository.package+xml":"irp","application/vnd.is-xpr":"xpr","application/vnd.isac.fcs":"fcs","application/vnd.jam":"jam","application/vnd.jcp.javame.midlet-rms":"rms","application/vnd.jisp":"jisp","application/vnd.joost.joda-archive":"joda","application/vnd.kahootz":"ktz","application/vnd.kde.karbon":"karbon","application/vnd.kde.kchart":"chrt","application/vnd.kde.kformula":"kfo","application/vnd.kde.kivio":"flw","application/vnd.kde.kontour":"kon","application/vnd.kde.kpresenter":"kpr","application/vnd.kde.kspread":"ksp","application/vnd.kde.kword":"kwd","application/vnd.kenameaapp":"htke","application/vnd.kidspiration":"kia","application/vnd.kinar":"kne","application/vnd.koan":"skp","application/vnd.kodak-descriptor":"sse","application/vnd.las.las+xml":"lasxml","application/vnd.llamagraphics.life-balance.desktop":"lbd","application/vnd.llamagraphics.life-balance.exchange+xml":"lbe","application/vnd.lotus-1-2-3":"123","application/vnd.lotus-approach":"apr","application/vnd.lotus-freelance":"pre","application/vnd.lotus-notes":"nsf","application/vnd.lotus-organizer":"org","application/vnd.lotus-screencam":"scm","application/vnd.lotus-wordpro":"lwp","application/vnd.macports.portpkg":"portpkg","application/vnd.mcd":"mcd","application/vnd.medcalcdata":"mc1","application/vnd.mediastation.cdkey":"cdkey","application/vnd.mfer":"mwf","application/vnd.mfmp":"mfm","application/vnd.micrografx.flo":"flo","application/vnd.micrografx.igx":"igx","application/vnd.mif":"mif","application/vnd.mobius.daf":"daf","application/vnd.mobius.dis":"dis","application/vnd.mobius.mbk":"mbk","application/vnd.mobius.mqy":"mqy","application/vnd.mobius.msl":"msl","application/vnd.mobius.plc":"plc","application/vnd.mobius.txf":"txf","application/vnd.mophun.application":"mpn","application/vnd.mophun.certificate":"mpc","application/vnd.mozilla.xul+xml":"xul","application/vnd.ms-artgalry":"cil","application/vnd.ms-cab-compressed":"cab","application/vnd.ms-excel":"xls","application/vnd.ms-excel.addin.macroenabled.12":"xlam","application/vnd.ms-excel.sheet.binary.macroenabled.12":"xlsb","application/vnd.ms-excel.sheet.macroenabled.12":"xlsm","application/vnd.ms-excel.template.macroenabled.12":"xltm","application/vnd.ms-fontobject":"eot","application/vnd.ms-htmlhelp":"chm","application/vnd.ms-ims":"ims","application/vnd.ms-lrm":"lrm","application/vnd.ms-officetheme":"thmx","application/vnd.ms-pki.seccat":"cat","application/vnd.ms-pki.stl":"stl","application/vnd.ms-powerpoint":"ppt","application/vnd.ms-powerpoint.addin.macroenabled.12":"ppam","application/vnd.ms-powerpoint.presentation.macroenabled.12":"pptm","application/vnd.ms-powerpoint.slide.macroenabled.12":"sldm","application/vnd.ms-powerpoint.slideshow.macroenabled.12":"ppsm","application/vnd.ms-powerpoint.template.macroenabled.12":"potm","application/vnd.ms-project":"mpp","application/vnd.ms-word.document.macroenabled.12":"docm","application/vnd.ms-word.template.macroenabled.12":"dotm","application/vnd.ms-works":"wps","application/vnd.ms-wpl":"wpl","application/vnd.ms-xpsdocument":"xps","application/vnd.mseq":"mseq","application/vnd.musician":"mus","application/vnd.muvee.style":"msty","application/vnd.mynfc":"taglet","application/vnd.neurolanguage.nlu":"nlu","application/vnd.nitf":"ntf","application/vnd.noblenet-directory":"nnd","application/vnd.noblenet-sealer":"nns","application/vnd.noblenet-web":"nnw","application/vnd.nokia.n-gage.data":"ngdat","application/vnd.nokia.n-gage.symbian.install":"n-gage","application/vnd.nokia.radio-preset":"rpst","application/vnd.nokia.radio-presets":"rpss","application/vnd.novadigm.edm":"edm","application/vnd.novadigm.edx":"edx","application/vnd.novadigm.ext":"ext","application/vnd.oasis.opendocument.chart":"odc","application/vnd.oasis.opendocument.chart-template":"otc","application/vnd.oasis.opendocument.database":"odb","application/vnd.oasis.opendocument.formula":"odf","application/vnd.oasis.opendocument.formula-template":"odft","application/vnd.oasis.opendocument.graphics":"odg","application/vnd.oasis.opendocument.graphics-template":"otg","application/vnd.oasis.opendocument.image":"odi","application/vnd.oasis.opendocument.image-template":"oti","application/vnd.oasis.opendocument.presentation":"odp","application/vnd.oasis.opendocument.presentation-template":"otp","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.spreadsheet-template":"ots","application/vnd.oasis.opendocument.text":"odt","application/vnd.oasis.opendocument.text-master":"odm","application/vnd.oasis.opendocument.text-template":"ott","application/vnd.oasis.opendocument.text-web":"oth","application/vnd.olpc-sugar":"xo","application/vnd.oma.dd2+xml":"dd2","application/vnd.openofficeorg.extension":"oxt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.openxmlformats-officedocument.presentationml.slide":"sldx","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","application/vnd.openxmlformats-officedocument.presentationml.template":"potx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","application/vnd.osgeo.mapguide.package":"mgp","application/vnd.osgi.dp":"dp","application/vnd.osgi.subsystem":"esa","application/vnd.palm":"pdb","application/vnd.pawaafile":"paw","application/vnd.pg.format":"str","application/vnd.pg.osasli":"ei6","application/vnd.picsel":"efif","application/vnd.pmi.widget":"wg","application/vnd.pocketlearn":"plf","application/vnd.powerbuilder6":"pbd","application/vnd.previewsystems.box":"box","application/vnd.proteus.magazine":"mgz","application/vnd.publishare-delta-tree":"qps","application/vnd.pvi.ptid1":"ptid","application/vnd.quark.quarkxpress":"qxd","application/vnd.realvnc.bed":"bed","application/vnd.recordare.musicxml":"mxl","application/vnd.recordare.musicxml+xml":"musicxml","application/vnd.rig.cryptonote":"cryptonote","application/vnd.rim.cod":"cod","application/vnd.rn-realmedia":"rm","application/vnd.rn-realmedia-vbr":"rmvb","application/vnd.route66.link66+xml":"link66","application/vnd.sailingtracker.track":"st","application/vnd.seemail":"see","application/vnd.sema":"sema","application/vnd.semd":"semd","application/vnd.semf":"semf","application/vnd.shana.informed.formdata":"ifm","application/vnd.shana.informed.formtemplate":"itp","application/vnd.shana.informed.interchange":"iif","application/vnd.shana.informed.package":"ipk","application/vnd.simtech-mindmapper":"twd","application/vnd.smaf":"mmf","application/vnd.smart.teacher":"teacher","application/vnd.solent.sdkm+xml":"sdkm","application/vnd.spotfire.dxp":"dxp","application/vnd.spotfire.sfs":"sfs","application/vnd.stardivision.calc":"sdc","application/vnd.stardivision.draw":"sda","application/vnd.stardivision.impress":"sdd","application/vnd.stardivision.math":"smf","application/vnd.stardivision.writer":"sdw","application/vnd.stardivision.writer-global":"sgl","application/vnd.stepmania.package":"smzip","application/vnd.stepmania.stepchart":"sm","application/vnd.sun.xml.calc":"sxc","application/vnd.sun.xml.calc.template":"stc","application/vnd.sun.xml.draw":"sxd","application/vnd.sun.xml.draw.template":"std","application/vnd.sun.xml.impress":"sxi","application/vnd.sun.xml.impress.template":"sti","application/vnd.sun.xml.math":"sxm","application/vnd.sun.xml.writer":"sxw","application/vnd.sun.xml.writer.global":"sxg","application/vnd.sun.xml.writer.template":"stw","application/vnd.sus-calendar":"sus","application/vnd.svd":"svd","application/vnd.symbian.install":"sis","application/vnd.syncml+xml":"xsm","application/vnd.syncml.dm+wbxml":"bdm","application/vnd.syncml.dm+xml":"xdm","application/vnd.tao.intent-module-archive":"tao","application/vnd.tcpdump.pcap":"pcap","application/vnd.tmobile-livetv":"tmo","application/vnd.trid.tpt":"tpt","application/vnd.triscape.mxs":"mxs","application/vnd.trueapp":"tra","application/vnd.ufdl":"ufd","application/vnd.uiq.theme":"utz","application/vnd.umajin":"umj","application/vnd.unity":"unityweb","application/vnd.uoml+xml":"uoml","application/vnd.vcx":"vcx","application/vnd.visio":"vsd","application/vnd.visionary":"vis","application/vnd.vsf":"vsf","application/vnd.wap.wbxml":"wbxml","application/vnd.wap.wmlc":"wmlc","application/vnd.wap.wmlscriptc":"wmlsc","application/vnd.webturbo":"wtb","application/vnd.wolfram.player":"nbp","application/vnd.wordperfect":"wpd","application/vnd.wqd":"wqd","application/vnd.wt.stf":"stf","application/vnd.xara":"xar","application/vnd.xfdl":"xfdl","application/vnd.yamaha.hv-dic":"hvd","application/vnd.yamaha.hv-script":"hvs","application/vnd.yamaha.hv-voice":"hvp","application/vnd.yamaha.openscoreformat":"osf","application/vnd.yamaha.openscoreformat.osfpvg+xml":"osfpvg","application/vnd.yamaha.smaf-audio":"saf","application/vnd.yamaha.smaf-phrase":"spf","application/vnd.yellowriver-custom-menu":"cmp","application/vnd.zul":"zir","application/vnd.zzazz.deck+xml":"zaz","application/voicexml+xml":"vxml","application/widget":"wgt","application/winhlp":"hlp","application/wsdl+xml":"wsdl","application/wspolicy+xml":"wspolicy","application/x-7z-compressed":"7z","application/x-abiword":"abw","application/x-ace-compressed":"ace","application/x-apple-diskimage":"dmg","application/x-authorware-bin":"aab","application/x-authorware-map":"aam","application/x-authorware-seg":"aas","application/x-bcpio":"bcpio","application/x-bittorrent":"torrent","application/x-blorb":"blb","application/x-bzip":"bz","application/x-bzip2":"bz2","application/x-cbr":"cbr","application/x-cdlink":"vcd","application/x-cfs-compressed":"cfs","application/x-chat":"chat","application/x-chess-pgn":"pgn","application/x-conference":"nsc","application/x-cpio":"cpio","application/x-csh":"csh","application/x-debian-package":"deb","application/x-dgc-compressed":"dgc","application/x-director":"dir","application/x-doom":"wad","application/x-dtbncx+xml":"ncx","application/x-dtbook+xml":"dtb","application/x-dtbresource+xml":"res","application/x-dvi":"dvi","application/x-envoy":"evy","application/x-eva":"eva","application/x-font-bdf":"bdf","application/x-font-ghostscript":"gsf","application/x-font-linux-psf":"psf","application/x-font-otf":"otf","application/x-font-pcf":"pcf","application/x-font-snf":"snf","application/x-font-ttf":"ttf","application/x-font-type1":"pfa","application/x-font-woff":"woff","application/x-freearc":"arc","application/x-futuresplash":"spl","application/x-gca-compressed":"gca","application/x-glulx":"ulx","application/x-gnumeric":"gnumeric","application/x-gramps-xml":"gramps","application/x-gtar":"gtar","application/x-hdf":"hdf","application/x-install-instructions":"install","application/x-iso9660-image":"iso","application/x-java-jnlp-file":"jnlp","application/x-latex":"latex","application/x-lzh-compressed":"lzh","application/x-mie":"mie","application/x-mobipocket-ebook":"prc","application/x-ms-application":"application","application/x-ms-shortcut":"lnk","application/x-ms-wmd":"wmd","application/x-ms-wmz":"wmz","application/x-ms-xbap":"xbap","application/x-msaccess":"mdb","application/x-msbinder":"obd","application/x-mscardfile":"crd","application/x-msclip":"clp","application/x-msdownload":"exe","application/x-msmediaview":"mvb","application/x-msmetafile":"wmf","application/x-msmoney":"mny","application/x-mspublisher":"pub","application/x-msschedule":"scd","application/x-msterminal":"trm","application/x-mswrite":"wri","application/x-netcdf":"nc","application/x-nzb":"nzb","application/x-pkcs12":"p12","application/x-pkcs7-certificates":"p7b","application/x-pkcs7-certreqresp":"p7r","application/x-rar-compressed":"rar","application/x-research-info-systems":"ris","application/x-sh":"sh","application/x-shar":"shar","application/x-shockwave-flash":"swf","application/x-silverlight-app":"xap","application/x-sql":"sql","application/x-stuffit":"sit","application/x-stuffitx":"sitx","application/x-subrip":"srt","application/x-sv4cpio":"sv4cpio","application/x-sv4crc":"sv4crc","application/x-t3vm-image":"t3","application/x-tads":"gam","application/x-tar":"tar","application/x-tcl":"tcl","application/x-tex":"tex","application/x-tex-tfm":"tfm","application/x-texinfo":"texinfo","application/x-tgif":"obj","application/x-ustar":"ustar","application/x-wais-source":"src","application/x-x509-ca-cert":"der","application/x-xfig":"fig","application/x-xliff+xml":"xlf","application/x-xpinstall":"xpi","application/x-xz":"xz","application/x-zmachine":"z1","application/xaml+xml":"xaml","application/xcap-diff+xml":"xdf","application/xenc+xml":"xenc","application/xhtml+xml":"xhtml","application/xml":"xml","application/xml-dtd":"dtd","application/xop+xml":"xop","application/xproc+xml":"xpl","application/xslt+xml":"xslt","application/xspf+xml":"xspf","application/xv+xml":"mxml","application/yang":"yang","application/yin+xml":"yin","application/zip":"zip","audio/adpcm":"adp","audio/basic":"au","audio/midi":"mid","audio/mp4":"mp4a","audio/mpeg":"mpga","audio/ogg":"oga","audio/s3m":"s3m","audio/silk":"sil","audio/vnd.dece.audio":"uva","audio/vnd.digital-winds":"eol","audio/vnd.dra":"dra","audio/vnd.dts":"dts","audio/vnd.dts.hd":"dtshd","audio/vnd.lucent.voice":"lvp","audio/vnd.ms-playready.media.pya":"pya","audio/vnd.nuera.ecelp4800":"ecelp4800","audio/vnd.nuera.ecelp7470":"ecelp7470","audio/vnd.nuera.ecelp9600":"ecelp9600","audio/vnd.rip":"rip","audio/webm":"weba","audio/x-aac":"aac","audio/x-aiff":"aif","audio/x-caf":"caf","audio/x-flac":"flac","audio/x-matroska":"mka","audio/x-mpegurl":"m3u","audio/x-ms-wax":"wax","audio/x-ms-wma":"wma","audio/x-pn-realaudio":"ram","audio/x-pn-realaudio-plugin":"rmp","audio/x-wav":"wav","audio/xm":"xm","chemical/x-cdx":"cdx","chemical/x-cif":"cif","chemical/x-cmdf":"cmdf","chemical/x-cml":"cml","chemical/x-csml":"csml","chemical/x-xyz":"xyz","image/bmp":"bmp","image/cgm":"cgm","image/g3fax":"g3","image/gif":"gif","image/ief":"ief","image/jpeg":"jpeg","image/ktx":"ktx","image/png":"png","image/prs.btif":"btif","image/sgi":"sgi","image/svg+xml":"svg","image/tiff":"tiff","image/vnd.adobe.photoshop":"psd","image/vnd.dece.graphic":"uvi","image/vnd.dvb.subtitle":"sub","image/vnd.djvu":"djvu","image/vnd.dwg":"dwg","image/vnd.dxf":"dxf","image/vnd.fastbidsheet":"fbs","image/vnd.fpx":"fpx","image/vnd.fst":"fst","image/vnd.fujixerox.edmics-mmr":"mmr","image/vnd.fujixerox.edmics-rlc":"rlc","image/vnd.ms-modi":"mdi","image/vnd.ms-photo":"wdp","image/vnd.net-fpx":"npx","image/vnd.wap.wbmp":"wbmp","image/vnd.xiff":"xif","image/webp":"webp","image/x-3ds":"3ds","image/x-cmu-raster":"ras","image/x-cmx":"cmx","image/x-freehand":"fh","image/x-icon":"ico","image/x-mrsid-image":"sid","image/x-pcx":"pcx","image/x-pict":"pic","image/x-portable-anymap":"pnm","image/x-portable-bitmap":"pbm","image/x-portable-graymap":"pgm","image/x-portable-pixmap":"ppm","image/x-rgb":"rgb","image/x-tga":"tga","image/x-xbitmap":"xbm","image/x-xpixmap":"xpm","image/x-xwindowdump":"xwd","message/rfc822":"eml","model/iges":"igs","model/mesh":"msh","model/vnd.collada+xml":"dae","model/vnd.dwf":"dwf","model/vnd.gdl":"gdl","model/vnd.gtw":"gtw","model/vnd.mts":"mts","model/vnd.vtu":"vtu","model/vrml":"wrl","model/x3d+binary":"x3db","model/x3d+vrml":"x3dv","model/x3d+xml":"x3d","text/cache-manifest":"appcache","text/calendar":"ics","text/css":"css","text/csv":"csv","text/html":"html","text/n3":"n3","text/plain":"txt","text/prs.lines.tag":"dsc","text/richtext":"rtx","text/sgml":"sgml","text/tab-separated-values":"tsv","text/troff":"t","text/turtle":"ttl","text/uri-list":"uri","text/vcard":"vcard","text/vnd.curl":"curl","text/vnd.curl.dcurl":"dcurl","text/vnd.curl.scurl":"scurl","text/vnd.curl.mcurl":"mcurl","text/vnd.dvb.subtitle":"sub","text/vnd.fly":"fly","text/vnd.fmi.flexstor":"flx","text/vnd.graphviz":"gv","text/vnd.in3d.3dml":"3dml","text/vnd.in3d.spot":"spot","text/vnd.sun.j2me.app-descriptor":"jad","text/vnd.wap.wml":"wml","text/vnd.wap.wmlscript":"wmls","text/x-asm":"s","text/x-c":"c","text/x-fortran":"f","text/x-java-source":"java","text/x-opml":"opml","text/x-pascal":"p","text/x-nfo":"nfo","text/x-setext":"etx","text/x-sfv":"sfv","text/x-uuencode":"uu","text/x-vcalendar":"vcs","text/x-vcard":"vcf","video/3gpp":"3gp","video/3gpp2":"3g2","video/h261":"h261","video/h263":"h263","video/h264":"h264","video/jpeg":"jpgv","video/jpm":"jpm","video/mj2":"mj2","video/mp4":"mp4","video/mpeg":"mpeg","video/ogg":"ogv","video/quicktime":"qt","video/vnd.dece.hd":"uvh","video/vnd.dece.mobile":"uvm","video/vnd.dece.pd":"uvp","video/vnd.dece.sd":"uvs","video/vnd.dece.video":"uvv","video/vnd.dvb.file":"dvb","video/vnd.fvt":"fvt","video/vnd.mpegurl":"mxu","video/vnd.ms-playready.media.pyv":"pyv","video/vnd.uvvu.mp4":"uvu","video/vnd.vivo":"viv","video/webm":"webm","video/x-f4v":"f4v","video/x-fli":"fli","video/x-flv":"flv","video/x-m4v":"m4v","video/x-matroska":"mkv","video/x-mng":"mng","video/x-ms-asf":"asf","video/x-ms-vob":"vob","video/x-ms-wm":"wm","video/x-ms-wmv":"wmv","video/x-ms-wmx":"wmx","video/x-ms-wvx":"wvx","video/x-msvideo":"avi","video/x-sgi-movie":"movie","video/x-smv":"smv","x-conference/x-cooltalk":"ice","text/vtt":"vtt","application/x-chrome-extension":"crx","text/x-component":"htc","video/MP2T":"ts","text/event-stream":"event-stream","application/x-web-app-manifest+json":"webapp","text/x-lua":"lua","application/x-lua-bytecode":"luac","text/x-markdown":"markdown"},extension:function(a){var t=a.match(/^\s*([^;\s]*)(?:;|\s|$)/)[1].toLowerCase();return this.extensions[t]},define:function(a){for(var t in a){for(var e=a[t],i=0;i<e.length;i++)this.types[e[i]]=t;this.extensions[t]||(this.extensions[t]=e[0])}},charsets:{lookup:function(a,t){return/^text\//.test(a)?"UTF-8":t}}};i.types.constructor=void 0,i.extensions.constructor=void 0},{}],46:[function(a,t,e){function i(a,t,e,i){a&&(this.container=a),t&&(this.blob=t),e&&(this.id=e),i&&(this.time=i)}var n=a("./../../../common/common").Constants,o=n.HeaderConstants;i.prototype.getPropertiesFromHeaders=function(a){var t=this;!t.id&&a[o.LEASE_ID]&&(t.id=a[o.LEASE_ID]),!t.time&&a[o.LEASE_TIME]&&(t.time=parseInt(a[o.LEASE_TIME],10)),t.etag=a[o.ETAG],t.lastModified=a[o.LAST_MODIFIED.toLowerCase()]},t.exports=i},{"./../../../common/common":5}],45:[function(a,t,e){function i(a,t){a&&(this.name=a),t&&(this.publicAccessLevel=t)}var n=a("./../../../common/common"),o=n.util,p=n.Constants,l=p.HeaderConstants,r=a("../blobutilities");i.parse=function(a){var t=new i;for(var e in a)if(a.hasOwnProperty(e))if("Properties"===e)o.setPropertyValueFromXML(t,a[e],!0);else if("Metadata"===e){var n=o.normalizePropertyNameFromXML(e);t[n]={},o.setPropertyValueFromXML(t[n],a[e],!1)}else t[e.toLowerCase()]=a[e];return t.publicAccessLevel||(t.publicAccessLevel=r.BlobContainerPublicAccessType.OFF),t},i.prototype.getPropertiesFromHeaders=function(a){var t=this,e=function(e,i){!o.tryGetValueChain(t,e.split("."),null)&&a[i.toLowerCase()]&&o.setObjectInnerPropertyValue(t,e.split("."),a[i.toLowerCase()])};e("etag",l.ETAG),e("lastModified",l.LAST_MODIFIED),e("lease.status",l.LEASE_STATUS),e("lease.state",l.LEASE_STATE),e("lease.duration",l.LEASE_DURATION),e("requestId",l.REQUEST_ID),t.publicAccessLevel||(t.publicAccessLevel=r.BlobContainerPublicAccessType.OFF,a[l.BLOB_PUBLIC_ACCESS]&&(t.publicAccessLevel=a[l.BLOB_PUBLIC_ACCESS])),"true"===t.publicAccessLevel&&(t.publicAccessLevel=r.BlobContainerPublicAccessType.CONTAINER)},t.exports=i},{"../blobutilities":40,"./../../../common/common":5}],44:[function(a,t,e){(function(t){var i=a("underscore"),n=a("./../../../common/common"),o=n.xmlbuilder,p=n.Constants;e.serialize=function(a){var e=o.create();return e=e.begin(p.BlobConstants.BLOCK_LIST_ELEMENT,{version:"1.0",encoding:"utf-8"}),a.LatestBlocks&&a.LatestBlocks.forEach(function(a){e=e.ele(p.BlobConstants.LATEST_ELEMENT).txt(new t(a).toString("base64")).up()}),a.CommittedBlocks&&a.CommittedBlocks.forEach(function(a){e=e.ele(p.BlobConstants.COMMITTED_ELEMENT).txt(new t(a).toString("base64")).up()}),a.UncommittedBlocks&&a.UncommittedBlocks.forEach(function(a){e=e.ele(p.BlobConstants.UNCOMMITTED_ELEMENT).txt(new t(a).toString("base64")).up()}),e.doc().toString()},e.parse=function(a){var e={};return a.CommittedBlocks&&a.CommittedBlocks.Block&&(e.CommittedBlocks=a.CommittedBlocks.Block,i.isArray(e.CommittedBlocks)||(e.CommittedBlocks=[e.CommittedBlocks]),e.CommittedBlocks.forEach(function(a){a.Name=new t(a.Name,"base64").toString()})),a.UncommittedBlocks&&a.UncommittedBlocks.Block&&(e.UncommittedBlocks=a.UncommittedBlocks.Block,i.isArray(e.UncommittedBlocks)||(e.UncommittedBlocks=[e.UncommittedBlocks]),e.UncommittedBlocks.forEach(function(a){a.Name=new t(a.Name,"base64").toString()})),e}}).call(this,a("buffer").Buffer)},{"./../../../common/common":5,buffer:"buffer",underscore:577}],43:[function(a,t,e){function i(a,t){a&&(this.container=a),t&&(this.name=t)}var n=a("underscore"),o=a("./../../../common/common"),p=o.util,l=o.Constants,r=l.HeaderConstants;i.parse=function(a){var t=new i;for(var e in a)if(a.hasOwnProperty(e))if("Properties"===e)p.setPropertyValueFromXML(t,a[e],!0);else if("Metadata"===e){var n=p.normalizePropertyNameFromXML(e);t[n]={},p.setPropertyValueFromXML(t[n],a[e],!1)}else t[e.toLowerCase()]=a[e];return void 0!==t.isIncrementalCopy&&(t.isIncrementalCopy="true"==t.isIncrementalCopy),t};var s={lastModified:"LAST_MODIFIED",etag:"ETAG",sequenceNumber:"SEQUENCE_NUMBER",blobType:"BLOB_TYPE",contentLength:"CONTENT_LENGTH",blobContentLength:"BLOB_CONTENT_LENGTH",contentRange:"CONTENT_RANGE",committedBlockCount:"BLOB_COMMITTED_BLOCK_COUNT",serverEncrypted:"SERVER_ENCRYPTED",requestId:"REQUEST_ID",range:"RANGE",blobRange:"STORAGE_RANGE",getContentMd5:"RANGE_GET_CONTENT_MD5",acceptRanges:"ACCEPT_RANGES",appendOffset:"BLOB_APPEND_OFFSET",isIncrementalCopy:"INCREMENTAL_COPY","contentSettings.contentType":"CONTENT_TYPE","contentSettings.contentEncoding":"CONTENT_ENCODING","contentSettings.contentLanguage":"CONTENT_LANGUAGE","contentSettings.cacheControl":"CACHE_CONTROL","contentSettings.contentDisposition":"CONTENT_DISPOSITION","contentSettings.contentMD5":"CONTENT_MD5","lease.id":"LEASE_ID","lease.status":"LEASE_STATUS","lease.duration":"LEASE_DURATION","lease.state":"LEASE_STATE","copy.id":"COPY_ID","copy.status":"COPY_STATUS","copy.source":"COPY_SOURCE","copy.progress":"COPY_PROGRESS","copy.completionTime":"COPY_COMPLETION_TIME","copy.statusDescription":"COPY_STATUS_DESCRIPTION","copy.destinationSnapshot":"COPY_DESTINATION_SNAPSHOT"};i.prototype.getPropertiesFromHeaders=function(a){var t=this,e=function(e,i){if(!p.tryGetValueChain(t,e.split("."),null)&&a[i.toLowerCase()]&&(p.setObjectInnerPropertyValue(t,e.split("."),a[i.toLowerCase()]),"copy.progress"===e)){var n=p.parseCopyProgress(t.copy.progress);t.copy.bytesCopied=parseInt(n.bytesCopied),t.copy.totalBytes=parseInt(n.totalBytes)}};e("contentSettings.contentMD5",r.BLOB_CONTENT_MD5),n.chain(s).pairs().each(function(a){var t=a[0],i=r[a[1]];e(t,i)}),void 0!==t.isIncrementalCopy&&(t.isIncrementalCopy="true"==t.isIncrementalCopy)},i.setHeadersFromBlob=function(a,t){var e=function(e,i){var n=p.tryGetValueChain(t,i.split("."),null);n&&a.withHeader(e,n)};if(t){if(e(r.BLOB_CONTENT_TYPE,"contentSettings.contentType"),e(r.BLOB_CONTENT_ENCODING,"contentSettings.contentEncoding"),e(r.BLOB_CONTENT_LANGUAGE,"contentSettings.contentLanguage"),e(r.BLOB_CONTENT_DISPOSITION,"contentSettings.contentDisposition"),e(r.BLOB_CACHE_CONTROL,"contentSettings.cacheControl"),e(r.BLOB_CONTENT_MD5,"contentSettings.contentMD5"),e(r.CONTENT_LENGTH,"contentLength"),e(r.CONTENT_MD5,"transactionalContentMD5"),!p.objectIsNull(t.rangeStart)){var i="bytes="+t.rangeStart+"-";p.objectIsNull(t.rangeEnd)||(i+=t.rangeEnd),a.withHeader(r.RANGE,i)}e(r.BLOB_TYPE,"blobType"),e(r.LEASE_ID,"leaseId"),e(r.SEQUENCE_NUMBER,"sequenceNumber"),e(r.SEQUENCE_NUMBER_ACTION,"sequenceNumberAction"),t.metadata&&a.addOptionalMetadataHeaders(t.metadata)}},i.setPropertiesFromBlob=function(a,t){var e=function(e,i){var n=p.tryGetValueChain(t,i.split("."),null);n&&a.withHeader(e,n)};t&&(e(r.BLOB_CONTENT_TYPE,"contentSettings.contentType"),e(r.BLOB_CONTENT_ENCODING,"contentSettings.contentEncoding"),e(r.BLOB_CONTENT_LANGUAGE,"contentSettings.contentLanguage"),e(r.BLOB_CONTENT_DISPOSITION,"contentSettings.contentDisposition"),e(r.BLOB_CACHE_CONTROL,"contentSettings.cacheControl"),e(r.BLOB_CONTENT_MD5,"contentSettings.contentMD5"),e(r.LEASE_ID,"leaseId"),t.metadata&&a.addOptionalMetadataHeaders(t.metadata))},t.exports=i},{"./../../../common/common":5,underscore:577}],42:[function(a,t,e){function i(a,t,e,n){i.super_.call(this,a,t,e,n),n.minRangeSize?this._minRangeSize=n.minRangeSize:this._minRangeSize=p.BlobConstants.MIN_WRITE_PAGE_SIZE_IN_BYTES,n.maxRangeSize?this._maxRangeSize=n.maxRangeSize:this._maxRangeSize=p.BlobConstants.DEFAULT_WRITE_PAGE_SIZE_IN_BYTES,this._lengthHeader=p.HeaderConstants.BLOB_CONTENT_LENGTH,this._listFunc=a.listPageRanges}var n=a("util"),o=a("./../../../common/streams/rangestream"),p=a("./../../../common/util/constants");n.inherits(i,o),t.exports=i},{"./../../../common/streams/rangestream":27,"./../../../common/util/constants":31,util:"util"}],41:[function(a,t,e){function i(a,t,e,i){this.blobServiceClient=a,this.container=t,this.blob=e,this._emitter=new o,this._paused=!1,this._emittedAll=!1,this._emittedRangeType=null,this._emittedRangeIndex=null,this._offset=0,this._rangelist=[],this._isEmitting=!1,i.rangeStart?this._startOffset=i.rangeStart:this._startOffset=0,i.rangeEnd?this._endOffset=i.rangeEnd:this._endOffset=Number.MAX_VALUE}var n=a("./../../../common/util/constants"),o=a("events").EventEmitter,p=a("./../blobutilities");i.prototype.on=function(a,t){this._emitter.on(a,t)},i.prototype.list=function(a,t){a||(a={}),a.blockListFilter||(a.blockListFilter=p.BlockListFilter.ALL);var e=this;this.blobServiceClient.listBlocks(this.container,this.blob,a.blockListFilter,a,function(a,i,o){if(a)t(a);else{var p=parseInt(o.headers[n.HeaderConstants.BLOB_CONTENT_LENGTH],10);if(!i.CommittedBlocks){var l="NODESDK_BLOCKBLOB_RANGESTREAM";i.CommittedBlocks=[{Name:l,Size:p}]}e._rangelist=i,e._emitBlockList(),e=i=null}})},i.prototype._emitBlockList=function(){if(!(this._paused||this._emittedAll||this._isEmitting)){var a=this;this._getTypeList(function(){a._rangelist=null,a._emittedAll=!0,a._emitter.emit("end")})}},i.prototype._getTypeList=function(a){this._isEmitting=!0;try{var t=!1;if(this._rangelist)for(var e in this._rangelist)if(this._rangelist.hasOwnProperty(e)){if(null===this._emittedRangeType||t||this._emittedRangeType==e)this._emittedRangeType=e,t=!0;else if(this._emittedRangeType!==e)continue;if(this._paused)return;this._emitBlockRange(e,a)}}finally{this._isEmitting=!1}},i.prototype._emitBlockRange=function(a,t){for(var e=this._rangelist[a],i=!1,n=0;n<e.length;n++){if(null===this._emittedRangeIndex||i||this._emittedRangeIndex===n)this._emittedRangeIndex=n,i=!0;else if(this._emittedRangeIndex!==n)continue;if(this._paused)return;var o=e[n];if(o.name=o.Name,o.type=a,o.start=this._offset,this._offset+=parseInt(o.Size,10),o.end=this._offset-1,delete o.Name,delete o.Size,o.start>this._endOffset)break;o.end<this._startOffset||(o.start=Math.max(o.start,this._startOffset),o.end=Math.min(o.end,this._endOffset),o.size=o.end-o.start+1,o.dataSize=o.size,this._emitter.emit("range",o))}this._rangelist[a]=null,t()},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){this._paused=!1,this._isEmitting||this._emitBlockList()},t.exports=i},{"./../../../common/util/constants":31,"./../blobutilities":40,events:394}],40:[function(a,t,e){e=t.exports;var i={SharedAccessPermissions:{READ:"r",ADD:"a",CREATE:"c",WRITE:"w",DELETE:"d",LIST:"l"},BlobListingDetails:{SNAPSHOTS:"snapshots",METADATA:"metadata",UNCOMMITTED_BLOBS:"uncommittedblobs",COPY:"copy"},SnapshotDeleteOptions:{SNAPSHOTS_ONLY:"only",BLOB_AND_SNAPSHOTS:"include"},BlockListFilter:{ALL:"all",COMMITTED:"committed",UNCOMMITTED:"uncommitted"},BlobContainerPublicAccessType:{OFF:null,CONTAINER:"container",BLOB:"blob"},SequenceNumberAction:{MAX:"max",UPDATE:"update",INCREMENT:"increment"}};t.exports=i},{}]},{},[1]);